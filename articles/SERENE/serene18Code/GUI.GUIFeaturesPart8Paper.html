<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>GUI.GUIFeaturesPart8Paper</title><link rel="stylesheet" href="Agda.css"></head><body><pre><a id="1" class="Symbol">{-#</a> <a id="5" class="Keyword">OPTIONS</a> <a id="13" class="Option">--allow-unsolved-metas</a> <a id="36" class="Symbol">#-}</a>
<a id="40" class="Keyword">module</a> <a id="47" href="GUI.GUIFeaturesPart8Paper.html" class="Module">GUI.GUIFeaturesPart8Paper</a> <a id="73" class="Keyword">where</a>

<a id="80" class="Keyword">open</a> <a id="85" class="Keyword">import</a> <a id="92" href="Data.Unit.html" class="Module">Data.Unit</a> <a id="102" class="Keyword">renaming</a> <a id="111" class="Symbol">(</a><a id="112" href="Agda.Builtin.Unit.html#69" class="Record">⊤</a> <a id="114" class="Symbol">to</a> <a id="117" href="Agda.Builtin.Unit.html#69" class="Record">Void</a><a id="121" class="Symbol">)</a>
<a id="123" class="Keyword">open</a> <a id="128" class="Keyword">import</a> <a id="135" href="Data.Empty.html" class="Module">Data.Empty</a> <a id="146" class="Keyword">renaming</a> <a id="155" class="Symbol">(</a><a id="156" href="Data.Empty.html#243" class="Datatype">⊥</a> <a id="158" class="Symbol">to</a> <a id="161" href="Data.Empty.html#243" class="Datatype">∅</a><a id="162" class="Symbol">)</a>
<a id="164" class="Keyword">open</a> <a id="169" class="Keyword">import</a> <a id="176" href="Data.List.html" class="Module">Data.List</a>
<a id="186" class="Keyword">open</a> <a id="191" class="Keyword">import</a> <a id="198" href="Data.Product.html" class="Module">Data.Product</a>
<a id="211" class="Keyword">open</a> <a id="216" class="Keyword">import</a> <a id="223" href="Data.Sum.html" class="Module">Data.Sum</a> <a id="232" class="Keyword">renaming</a> <a id="241" class="Symbol">(</a><a id="242" href="Data.Sum.Base.html#1138" class="Function">map</a> <a id="246" class="Symbol">to</a> <a id="249" href="Data.Sum.Base.html#1138" class="Function">mapSum</a><a id="255" class="Symbol">)</a>
<a id="257" class="Keyword">open</a> <a id="262" class="Keyword">import</a> <a id="269" href="Data.String.Base.html" class="Module">Data.String.Base</a>

<a id="287" class="Keyword">open</a> <a id="292" class="Keyword">import</a> <a id="299" href="NativeIO.html" class="Module">NativeIO</a> <a id="308" class="Keyword">renaming</a> <a id="317" class="Symbol">(</a><a id="318" href="NativeIO.html#260" class="Postulate">NativeIO</a> <a id="327" class="Symbol">to</a> <a id="330" href="NativeIO.html#260" class="Postulate">IO</a><a id="332" class="Symbol">;</a>
                               <a id="365" href="NativeIO.html#287" class="Postulate">nativeReturn</a> <a id="378" class="Symbol">to</a> <a id="381" href="NativeIO.html#287" class="Postulate">return</a><a id="387" class="Symbol">;</a>
                               <a id="420" href="NativeIO.html#331" class="Postulate Operator">_native&gt;&gt;=_</a> <a id="432" class="Symbol">to</a> <a id="435" href="NativeIO.html#331" class="Postulate Operator">_&gt;&gt;=_</a><a id="440" class="Symbol">;</a>
                               <a id="473" href="NativeIO.html#405" class="Postulate Operator">_native&gt;&gt;_</a> <a id="484" class="Symbol">to</a> <a id="487" href="NativeIO.html#405" class="Postulate Operator">_&gt;&gt;_</a><a id="491" class="Symbol">)</a>

<a id="494" class="Keyword">open</a> <a id="499" class="Keyword">import</a> <a id="506" href="GUI.Vers1.GUIDefinitions.html" class="Module">GUI.Vers1.GUIDefinitions</a>
<a id="531" class="Keyword">open</a> <a id="536" class="Keyword">import</a> <a id="543" href="GUI.Vers1.GUICompilation.html" class="Module">GUI.Vers1.GUICompilation</a> <a id="568" class="Keyword">hiding</a> <a id="575" class="Symbol">(</a><a id="576" href="GUI.Vers1.GUICompilation.html#3685" class="Function">main</a><a id="580" class="Symbol">)</a>

<a id="583" class="Keyword">open</a> <a id="588" class="Keyword">import</a> <a id="595" href="GUI.GUICompilationFeatures.html" class="Module">GUI.GUICompilationFeatures</a> <a id="622" class="Keyword">using</a> <a id="628" class="Symbol">(</a><a id="629" href="GUI.GUICompilationFeatures.html#1984" class="Function">compileSMachine</a><a id="644" class="Symbol">)</a>

<a id="647" class="Keyword">open</a> <a id="652" class="Keyword">import</a> <a id="659" href="GUI.GUIFeatures.html" class="Module">GUI.GUIFeatures</a> <a id="675" class="Keyword">using</a> <a id="681" class="Symbol">(</a><a id="682" href="GUI.GUIFeatures.html#635" class="Datatype">FeatureTea</a><a id="692" class="Symbol">;</a> <a id="694" href="GUI.GUIFeatures.html#753" class="Datatype">FeatureCancel</a><a id="707" class="Symbol">;</a> <a id="709" href="GUI.GUIFeatures.html#692" class="Datatype">FeatureFree</a><a id="720" class="Symbol">;</a> <a id="722" href="GUI.GUIFeatures.html#660" class="InductiveConstructor">yesTea</a><a id="728" class="Symbol">;</a> <a id="730" href="GUI.GUIFeatures.html#781" class="InductiveConstructor">yesCancel</a><a id="739" class="Symbol">;</a> <a id="741" href="GUI.GUIFeatures.html#726" class="InductiveConstructor">noFree</a><a id="747" class="Symbol">;</a> <a id="749" href="GUI.GUIFeatures.html#718" class="InductiveConstructor">yesFree</a><a id="756" class="Symbol">)</a>
<a id="758" class="Keyword">open</a> <a id="763" class="Keyword">import</a> <a id="770" href="GUI.GUIFeaturesPart2Paper.html" class="Module">GUI.GUIFeaturesPart2Paper</a> <a id="796" class="Keyword">hiding</a> <a id="803" class="Symbol">(</a><a id="804" href="GUI.GUIFeaturesPart2Paper.html#1254" class="Record">FeatureMachine</a> <a id="819" class="Symbol">;</a> <a id="821" href="GUI.GUIFeaturesPart2Paper.html#1110" class="Record">FeatureMachineNaive</a><a id="840" class="Symbol">;</a> <a id="842" href="GUI.GUIFeaturesPart2Paper.html#646" class="Function">IO</a><a id="844" class="Symbol">)</a> <a id="846" class="Comment">-- using (SMachineState; fSM; handlSM; SMachine; simpleSMState; addBtn2StateMachinee; addBtn2StateMachine) --hiding (FMachine)</a>
<a id="973" class="Keyword">open</a> <a id="978" class="Keyword">import</a> <a id="985" href="GUI.GUIFeaturesPart3.html" class="Module">GUI.GUIFeaturesPart3</a> <a id="1006" class="Keyword">hiding</a> <a id="1013" class="Symbol">(</a> <a id="1015" href="GUI.GUIFeaturesPart3.html#3365" class="Function">main</a> <a id="1020" class="Symbol">;</a> <a id="1022" href="GUI.GUIFeaturesPart3.html#2063" class="Function">Tea</a> <a id="1026" class="Symbol">;</a> <a id="1028" href="GUI.GUIFeaturesPart3.html#1450" class="Function">Cancel</a><a id="1034" class="Symbol">;</a> <a id="1036" href="GUI.GUIFeaturesPart3.html#2899" class="Function">main1</a> <a id="1042" class="Symbol">;</a> <a id="1044" href="GUI.GUIFeaturesPart3.html#3135" class="Function">main2</a><a id="1049" class="Symbol">)</a>
<a id="1051" class="Keyword">open</a> <a id="1056" class="Keyword">import</a> <a id="1063" href="GUI.Vers1.GUIExampleLib.html" class="Module">GUI.Vers1.GUIExampleLib</a>
<a id="1087" class="Keyword">open</a> <a id="1092" class="Keyword">import</a> <a id="1099" href="GUI.Vers1.BusinessProcess.html" class="Module">GUI.Vers1.BusinessProcess</a>
<a id="1125" class="Keyword">open</a> <a id="1130" class="Keyword">import</a> <a id="1137" href="GUI.Vers1.BusinessProcess.html" class="Module">GUI.Vers1.BusinessProcess</a> <a id="1163" class="Keyword">renaming</a> <a id="1172" class="Symbol">(</a><a id="1173" href="GUI.Vers1.BusinessProcess.html#472" class="Datatype">BusinessProcess</a> <a id="1189" class="Symbol">to</a> <a id="1192" href="GUI.Vers1.BusinessProcess.html#472" class="Datatype">Workflow</a><a id="1200" class="Symbol">)</a>
<a id="1202" class="Keyword">open</a> <a id="1207" class="Keyword">import</a> <a id="1214" href="GUI.Vers1.RasterificFFI.html" class="Module">GUI.Vers1.RasterificFFI</a>
<a id="1238" class="Keyword">open</a> <a id="1243" class="Keyword">import</a> <a id="1250" href="GUI.BusinessProcessMedExLib.html" class="Module">GUI.BusinessProcessMedExLib</a>


<a id="1280" class="Comment">-- postulate Workflow : Set</a>
<a id="1308" class="Comment">-- postulate aWorkflow : Workflow</a>

<a id="featureImplementation"></a><a id="1343" href="GUI.GUIFeaturesPart8Paper.html#1343" class="Function">featureImplementation</a> <a id="1365" class="Symbol">:</a> <a id="1367" href="GUI.Vers1.BusinessProcess.html#472" class="Datatype">Workflow</a> <a id="1376" class="Symbol">→</a> <a id="1378" href="GUI.Vers1.BusinessProcess.html#472" class="Datatype">Workflow</a>
<a id="1387" href="GUI.GUIFeaturesPart8Paper.html#1343" class="Function">featureImplementation</a> <a id="1409" href="GUI.GUIFeaturesPart8Paper.html#1409" class="Bound">x</a> <a id="1411" class="Symbol">=</a> <a id="1413" href="GUI.Vers1.BusinessProcess.html#815" class="InductiveConstructor">activity</a> <a id="1422" class="String">&quot;Feature&quot;</a> <a id="1432" href="GUI.GUIFeaturesPart8Paper.html#1409" class="Bound">x</a>

<a id="trivialWorkflow"></a><a id="1435" href="GUI.GUIFeaturesPart8Paper.html#1435" class="Function">trivialWorkflow</a>         <a id="1459" class="Symbol">:</a>  <a id="1462" href="GUI.Vers1.BusinessProcess.html#472" class="Datatype">Workflow</a>
<a id="defaultOrderBloodTests"></a><a id="1471" href="GUI.GUIFeaturesPart8Paper.html#1471" class="Function">defaultOrderBloodTests</a>  <a id="1495" class="Symbol">:</a>  <a id="1498" href="GUI.Vers1.BusinessProcess.html#472" class="Datatype">Workflow</a> <a id="1507" class="Symbol">→</a> <a id="1509" href="GUI.Vers1.BusinessProcess.html#472" class="Datatype">Workflow</a>
<a id="orderBloodTestsER"></a><a id="1518" href="GUI.GUIFeaturesPart8Paper.html#1518" class="Function">orderBloodTestsER</a>       <a id="1542" class="Symbol">:</a>  <a id="1545" href="GUI.Vers1.BusinessProcess.html#472" class="Datatype">Workflow</a> <a id="1554" class="Symbol">→</a> <a id="1556" href="GUI.Vers1.BusinessProcess.html#472" class="Datatype">Workflow</a>

<a id="workflowBloodTestER"></a><a id="1566" href="GUI.GUIFeaturesPart8Paper.html#1566" class="Function">workflowBloodTestER</a> <a id="1586" class="Symbol">:</a> <a id="1588" href="GUI.Vers1.BusinessProcess.html#472" class="Datatype">Workflow</a>
<a id="1597" href="GUI.GUIFeaturesPart8Paper.html#1566" class="Function">workflowBloodTestER</a> <a id="1617" class="Symbol">=</a> <a id="1619" href="GUI.GUIFeaturesPart8Paper.html#1518" class="Function">orderBloodTestsER</a> <a id="1637" class="Symbol">(</a><a id="1638" href="GUI.GUIFeaturesPart8Paper.html#1471" class="Function">defaultOrderBloodTests</a> <a id="1661" href="GUI.GUIFeaturesPart8Paper.html#1435" class="Function">trivialWorkflow</a><a id="1676" class="Symbol">)</a>

<a id="1679" href="GUI.GUIFeaturesPart8Paper.html#1435" class="Function">trivialWorkflow</a> <a id="1695" class="Symbol">=</a> <a id="1697" href="GUI.Vers1.BusinessProcess.html#561" class="InductiveConstructor">endEvent</a> <a id="1706" class="String">&quot;End&quot;</a>
<a id="1712" href="GUI.GUIFeaturesPart8Paper.html#1471" class="Function">defaultOrderBloodTests</a> <a id="1735" href="GUI.GUIFeaturesPart8Paper.html#1735" class="Bound">x</a> <a id="1737" class="Symbol">=</a> <a id="1739" href="GUI.Vers1.BusinessProcess.html#815" class="InductiveConstructor">activity</a> <a id="1748" class="String">&quot;Order Blood Test&quot;</a> <a id="1767" href="GUI.GUIFeaturesPart8Paper.html#1735" class="Bound">x</a>
<a id="1769" href="GUI.GUIFeaturesPart8Paper.html#1518" class="Function">orderBloodTestsER</a> <a id="1787" href="GUI.GUIFeaturesPart8Paper.html#1787" class="Bound">x</a> <a id="1789" class="Symbol">=</a> <a id="1791" href="GUI.Vers1.BusinessProcess.html#815" class="InductiveConstructor">activity</a> <a id="1800" class="String">&quot;orderBloodTestER&quot;</a> <a id="1819" href="GUI.GUIFeaturesPart8Paper.html#1787" class="Bound">x</a>


<a id="ExecutableIOProgram"></a><a id="1823" href="GUI.GUIFeaturesPart8Paper.html#1823" class="Function">ExecutableIOProgram</a> <a id="1843" class="Symbol">=</a> <a id="1845" href="NativeIO.html#260" class="Postulate">IO</a> <a id="1848" href="Unit.html#28" class="Record">Unit</a>








<a id="newState"></a><a id="1861" href="GUI.GUIFeaturesPart8Paper.html#1861" class="Function">newState</a> <a id="1870" class="Symbol">:</a> <a id="1872" class="Symbol">{</a><a id="1873" href="GUI.GUIFeaturesPart8Paper.html#1873" class="Bound">A</a> <a id="1875" href="GUI.GUIFeaturesPart8Paper.html#1875" class="Bound">B</a> <a id="1877" class="Symbol">:</a> <a id="1879" class="PrimitiveType">Set</a><a id="1882" class="Symbol">}</a> <a id="1884" class="Symbol">→</a> <a id="1886" href="GUI.GUIFeaturesPart8Paper.html#1873" class="Bound">A</a> <a id="1888" href="Data.Sum.Base.html#414" class="Datatype Operator">⊎</a> <a id="1890" href="GUI.GUIFeaturesPart8Paper.html#1875" class="Bound">B</a> <a id="1892" href="Data.Sum.Base.html#414" class="Datatype Operator">⊎</a> <a id="1894" href="Agda.Builtin.Unit.html#69" class="Record">Void</a>
<a id="1899" href="GUI.GUIFeaturesPart8Paper.html#1861" class="Function">newState</a> <a id="1908" class="Symbol">=</a> <a id="1910" class="Symbol">(</a><a id="1911" href="Data.Sum.Base.html#495" class="InductiveConstructor">inj₂</a> <a id="1916" class="Symbol">(</a><a id="1917" href="Data.Sum.Base.html#495" class="InductiveConstructor">inj₂</a> <a id="1922" href="Agda.Builtin.Unit.html#106" class="InductiveConstructor">tt</a><a id="1924" class="Symbol">))</a>


<a id="adaptStateSMachineState"></a><a id="1929" href="GUI.GUIFeaturesPart8Paper.html#1929" class="Function">adaptStateSMachineState</a> <a id="1953" class="Symbol">:</a> <a id="1955" class="Symbol">{</a><a id="1956" href="GUI.GUIFeaturesPart8Paper.html#1956" class="Bound">S</a> <a id="1958" href="GUI.GUIFeaturesPart8Paper.html#1958" class="Bound">S&#39;</a> <a id="1961" class="Symbol">:</a> <a id="1963" class="PrimitiveType">Set</a><a id="1966" class="Symbol">}(</a><a id="1968" href="GUI.GUIFeaturesPart8Paper.html#1968" class="Bound">ss&#39;</a> <a id="1972" class="Symbol">:</a> <a id="1974" href="GUI.GUIFeaturesPart8Paper.html#1956" class="Bound">S</a> <a id="1976" class="Symbol">→</a> <a id="1978" href="GUI.GUIFeaturesPart8Paper.html#1958" class="Bound">S&#39;</a><a id="1980" class="Symbol">)</a>
                     <a id="2003" class="Symbol">(</a><a id="2004" href="GUI.GUIFeaturesPart8Paper.html#2004" class="Bound">smState</a> <a id="2012" class="Symbol">:</a> <a id="2014" href="GUI.GUIFeaturesPart2Paper.html#812" class="Record">MachineState</a> <a id="2027" href="GUI.GUIFeaturesPart8Paper.html#1956" class="Bound">S</a><a id="2028" class="Symbol">)</a>
                     <a id="2051" class="Symbol">→</a> <a id="2053" href="GUI.GUIFeaturesPart2Paper.html#812" class="Record">MachineState</a> <a id="2066" href="GUI.GUIFeaturesPart8Paper.html#1958" class="Bound">S&#39;</a>
<a id="2069" href="GUI.GUIFeaturesPart8Paper.html#1929" class="Function">adaptStateSMachineState</a> <a id="2093" href="GUI.GUIFeaturesPart8Paper.html#2093" class="Bound">ss&#39;</a> <a id="2097" href="GUI.GUIFeaturesPart8Paper.html#2097" class="Bound">smState</a> <a id="2105" class="Symbol">.</a><a id="2106" href="GUI.GUIFeaturesPart2Paper.html#864" class="Field">view</a>  <a id="2112" class="Symbol">=</a> <a id="2114" href="GUI.GUIFeaturesPart8Paper.html#2097" class="Bound">smState</a> <a id="2122" class="Symbol">.</a><a id="2123" href="GUI.GUIFeaturesPart2Paper.html#864" class="Field">view</a>
<a id="2128" href="GUI.GUIFeaturesPart8Paper.html#1929" class="Function">adaptStateSMachineState</a> <a id="2152" href="GUI.GUIFeaturesPart8Paper.html#2152" class="Bound">ss&#39;</a> <a id="2156" href="GUI.GUIFeaturesPart8Paper.html#2156" class="Bound">smState</a> <a id="2164" class="Symbol">.</a><a id="2165" href="GUI.GUIFeaturesPart2Paper.html#883" class="Field">handleUserInput</a> <a id="2181" href="GUI.GUIFeaturesPart8Paper.html#2181" class="Bound">m</a> <a id="2183" class="Symbol">=</a> <a id="2185" href="GUI.GUIFeaturesPart3.html#686" class="Function">mapStateMachineHandl</a> <a id="2206" href="GUI.GUIFeaturesPart8Paper.html#2152" class="Bound">ss&#39;</a> <a id="2210" class="Symbol">(</a><a id="2211" href="GUI.GUIFeaturesPart8Paper.html#2156" class="Bound">smState</a> <a id="2219" class="Symbol">.</a><a id="2220" href="GUI.GUIFeaturesPart2Paper.html#883" class="Field">handleUserInput</a> <a id="2236" href="GUI.GUIFeaturesPart8Paper.html#2181" class="Bound">m</a><a id="2237" class="Symbol">)</a>

<a id="adaptStateMachine"></a><a id="2240" href="GUI.GUIFeaturesPart8Paper.html#2240" class="Function">adaptStateMachine</a> <a id="2258" class="Symbol">:</a> <a id="2260" class="Symbol">(</a><a id="2261" href="GUI.GUIFeaturesPart8Paper.html#2261" class="Bound">S</a> <a id="2263" href="GUI.GUIFeaturesPart8Paper.html#2263" class="Bound">S&#39;</a> <a id="2266" class="Symbol">:</a> <a id="2268" class="PrimitiveType">Set</a><a id="2271" class="Symbol">)(</a><a id="2273" href="GUI.GUIFeaturesPart8Paper.html#2273" class="Bound">ss&#39;</a> <a id="2277" class="Symbol">:</a> <a id="2279" href="GUI.GUIFeaturesPart8Paper.html#2261" class="Bound">S</a> <a id="2281" class="Symbol">→</a> <a id="2283" href="GUI.GUIFeaturesPart8Paper.html#2263" class="Bound">S&#39;</a><a id="2285" class="Symbol">)(</a><a id="2287" href="GUI.GUIFeaturesPart8Paper.html#2287" class="Bound">s&#39;s</a> <a id="2291" class="Symbol">:</a> <a id="2293" href="GUI.GUIFeaturesPart8Paper.html#2263" class="Bound">S&#39;</a> <a id="2296" class="Symbol">→</a> <a id="2298" href="GUI.GUIFeaturesPart8Paper.html#2261" class="Bound">S</a><a id="2299" class="Symbol">)</a>
                    <a id="2321" class="Symbol">→</a> <a id="2323" href="GUI.GUIFeaturesPart2Paper.html#934" class="Function">StateMachine</a> <a id="2336" href="GUI.GUIFeaturesPart8Paper.html#2261" class="Bound">S</a> <a id="2338" class="Symbol">→</a> <a id="2340" href="GUI.GUIFeaturesPart2Paper.html#934" class="Function">StateMachine</a> <a id="2353" href="GUI.GUIFeaturesPart8Paper.html#2263" class="Bound">S&#39;</a>
<a id="2356" href="GUI.GUIFeaturesPart8Paper.html#2240" class="Function">adaptStateMachine</a> <a id="2374" href="GUI.GUIFeaturesPart8Paper.html#2374" class="Bound">S</a> <a id="2376" href="GUI.GUIFeaturesPart8Paper.html#2376" class="Bound">S&#39;</a> <a id="2379" href="GUI.GUIFeaturesPart8Paper.html#2379" class="Bound">ss&#39;</a> <a id="2383" href="GUI.GUIFeaturesPart8Paper.html#2383" class="Bound">s&#39;s</a> <a id="2387" href="GUI.GUIFeaturesPart8Paper.html#2387" class="Bound">sm</a> <a id="2390" href="GUI.GUIFeaturesPart8Paper.html#2390" class="Bound">s&#39;</a> <a id="2393" class="Symbol">=</a> <a id="2395" href="GUI.GUIFeaturesPart8Paper.html#1929" class="Function">adaptStateSMachineState</a> <a id="2419" href="GUI.GUIFeaturesPart8Paper.html#2379" class="Bound">ss&#39;</a> <a id="2423" class="Symbol">(</a><a id="2424" href="GUI.GUIFeaturesPart8Paper.html#2387" class="Bound">sm</a> <a id="2427" class="Symbol">(</a><a id="2428" href="GUI.GUIFeaturesPart8Paper.html#2383" class="Bound">s&#39;s</a> <a id="2432" href="GUI.GUIFeaturesPart8Paper.html#2390" class="Bound">s&#39;</a><a id="2434" class="Symbol">))</a> <a id="2437" class="Comment">--ss&#39; (s&#39;s s&#39;) s&#39; (sm (s&#39;s s&#39;))</a>

<a id="2470" class="Comment">-- \GUIFeaturesPartEightPaper</a>
<a id="extendStateMachine"></a><a id="2500" href="GUI.GUIFeaturesPart8Paper.html#2500" class="Function">extendStateMachine</a> <a id="2519" class="Symbol">:</a> <a id="2521" class="Symbol">(</a><a id="2522" href="GUI.GUIFeaturesPart8Paper.html#2522" class="Bound">S</a> <a id="2524" href="GUI.GUIFeaturesPart8Paper.html#2524" class="Bound">S&#39;</a> <a id="2527" class="Symbol">:</a> <a id="2529" class="PrimitiveType">Set</a><a id="2532" class="Symbol">)(</a><a id="2534" href="GUI.GUIFeaturesPart8Paper.html#2534" class="Bound">sm</a> <a id="2537" class="Symbol">:</a> <a id="2539" href="GUI.GUIFeaturesPart2Paper.html#934" class="Function">StateMachine</a> <a id="2552" href="GUI.GUIFeaturesPart8Paper.html#2522" class="Bound">S</a><a id="2553" class="Symbol">)</a>
                     <a id="2576" class="Symbol">(</a><a id="2577" href="GUI.GUIFeaturesPart8Paper.html#2577" class="Bound">new</a> <a id="2581" class="Symbol">:</a> <a id="2583" class="Symbol">(</a><a id="2584" href="GUI.GUIFeaturesPart8Paper.html#2584" class="Bound">s&#39;</a> <a id="2587" class="Symbol">:</a> <a id="2589" href="GUI.GUIFeaturesPart8Paper.html#2524" class="Bound">S&#39;</a><a id="2591" class="Symbol">)</a> <a id="2593" class="Symbol">→</a> <a id="2595" href="GUI.GUIFeaturesPart2Paper.html#812" class="Record">MachineState</a> <a id="2608" class="Symbol">(</a><a id="2609" href="GUI.GUIFeaturesPart8Paper.html#2522" class="Bound">S</a> <a id="2611" href="Data.Sum.Base.html#414" class="Datatype Operator">⊎</a> <a id="2613" href="GUI.GUIFeaturesPart8Paper.html#2524" class="Bound">S&#39;</a><a id="2615" class="Symbol">))</a>
                     <a id="2639" class="Symbol">→</a> <a id="2641" href="GUI.GUIFeaturesPart2Paper.html#934" class="Function">StateMachine</a> <a id="2654" class="Symbol">(</a><a id="2655" href="GUI.GUIFeaturesPart8Paper.html#2522" class="Bound">S</a> <a id="2657" href="Data.Sum.Base.html#414" class="Datatype Operator">⊎</a> <a id="2659" href="GUI.GUIFeaturesPart8Paper.html#2524" class="Bound">S&#39;</a><a id="2661" class="Symbol">)</a>
<a id="2663" href="GUI.GUIFeaturesPart8Paper.html#2500" class="Function">extendStateMachine</a> <a id="2682" class="Symbol">_</a> <a id="2684" class="Symbol">_</a> <a id="2686" href="GUI.GUIFeaturesPart8Paper.html#2686" class="Bound">sm</a> <a id="2689" href="GUI.GUIFeaturesPart8Paper.html#2689" class="Bound">new</a> <a id="2693" class="Symbol">(</a><a id="2694" href="Data.Sum.Base.html#470" class="InductiveConstructor">inj₁</a> <a id="2699" href="GUI.GUIFeaturesPart8Paper.html#2699" class="Bound">s</a><a id="2700" class="Symbol">)</a> <a id="2702" class="Symbol">.</a><a id="2703" href="GUI.GUIFeaturesPart2Paper.html#864" class="Field">view</a> <a id="2708" class="Symbol">=</a> <a id="2710" href="GUI.GUIFeaturesPart8Paper.html#2686" class="Bound">sm</a> <a id="2713" href="GUI.GUIFeaturesPart8Paper.html#2699" class="Bound">s</a> <a id="2715" class="Symbol">.</a><a id="2716" href="GUI.GUIFeaturesPart2Paper.html#864" class="Field">view</a>
<a id="2721" href="GUI.GUIFeaturesPart8Paper.html#2500" class="Function">extendStateMachine</a> <a id="2740" class="Symbol">_</a> <a id="2742" class="Symbol">_</a> <a id="2744" href="GUI.GUIFeaturesPart8Paper.html#2744" class="Bound">sm</a> <a id="2747" href="GUI.GUIFeaturesPart8Paper.html#2747" class="Bound">new</a> <a id="2751" class="Symbol">(</a><a id="2752" href="Data.Sum.Base.html#470" class="InductiveConstructor">inj₁</a> <a id="2757" href="GUI.GUIFeaturesPart8Paper.html#2757" class="Bound">s</a><a id="2758" class="Symbol">)</a> <a id="2760" class="Symbol">.</a><a id="2761" href="GUI.GUIFeaturesPart2Paper.html#883" class="Field">handleUserInput</a> <a id="2777" href="GUI.GUIFeaturesPart8Paper.html#2777" class="Bound">m</a> <a id="2779" class="Symbol">=</a> <a id="2781" href="GUI.GUIFeaturesPart3.html#686" class="Function">mapStateMachineHandl</a> <a id="2802" href="Data.Sum.Base.html#470" class="InductiveConstructor">inj₁</a> <a id="2807" class="Symbol">(</a><a id="2808" href="GUI.GUIFeaturesPart8Paper.html#2744" class="Bound">sm</a> <a id="2811" href="GUI.GUIFeaturesPart8Paper.html#2757" class="Bound">s</a> <a id="2813" class="Symbol">.</a><a id="2814" href="GUI.GUIFeaturesPart2Paper.html#883" class="Field">handleUserInput</a> <a id="2830" href="GUI.GUIFeaturesPart8Paper.html#2777" class="Bound">m</a><a id="2831" class="Symbol">)</a>
<a id="2833" href="GUI.GUIFeaturesPart8Paper.html#2500" class="Function">extendStateMachine</a> <a id="2852" class="Symbol">_</a> <a id="2854" class="Symbol">_</a> <a id="2856" href="GUI.GUIFeaturesPart8Paper.html#2856" class="Bound">sm</a> <a id="2859" href="GUI.GUIFeaturesPart8Paper.html#2859" class="Bound">new</a> <a id="2863" class="Symbol">(</a><a id="2864" href="Data.Sum.Base.html#495" class="InductiveConstructor">inj₂</a> <a id="2869" href="GUI.GUIFeaturesPart8Paper.html#2869" class="Bound">s&#39;</a><a id="2871" class="Symbol">)</a> <a id="2873" class="Symbol">=</a> <a id="2875" href="GUI.GUIFeaturesPart8Paper.html#2859" class="Bound">new</a> <a id="2879" href="GUI.GUIFeaturesPart8Paper.html#2869" class="Bound">s&#39;</a>

<a id="2883" class="Comment">{-
extendStateMachine&#39; : (B S S&#39; : Set)(sm : StateMachine (B ⊎ S))
                     (new : (s&#39; : S&#39;) → MachineState (B ⊎ (S ⊎ S&#39;)))
                     → StateMachine (B ⊎ (S ⊎ S&#39;))
extendStateMachine&#39; _ _ sm new (inj₁ b) .view = sm (inj₁ b) .view
extendStateMachine&#39; _ _ sm new (inj₂ (inj₁ s)) .view = sm (inj₂ s) .view
extendStateMachine&#39; _ _ sm new (inj₁ b) .handleUserInput m = mapStateMachineHandl inj₁ (sm s .handleUserInput m)
extendStateMachine&#39; _ _ sm new (inj₁ s) .handleUserInput m = mapStateMachineHandl inj₁ (sm s .handleUserInput m)
extendStateMachine&#39; _ _ sm new (inj₂ (inj₂ s)) = new s&#39;
-}</a>



<a id="extendStateMachOneState"></a><a id="3497" href="GUI.GUIFeaturesPart8Paper.html#3497" class="Function">extendStateMachOneState</a> <a id="3521" class="Symbol">:</a>  <a id="3524" class="Symbol">{</a><a id="3525" href="GUI.GUIFeaturesPart8Paper.html#3525" class="Bound">S</a> <a id="3527" class="Symbol">:</a> <a id="3529" class="PrimitiveType">Set</a><a id="3532" class="Symbol">}</a> <a id="3534" class="Symbol">(</a><a id="3535" href="GUI.GUIFeaturesPart8Paper.html#3535" class="Bound">sm</a> <a id="3538" class="Symbol">:</a> <a id="3540" href="GUI.GUIFeaturesPart2Paper.html#934" class="Function">StateMachine</a> <a id="3553" href="GUI.GUIFeaturesPart8Paper.html#3525" class="Bound">S</a><a id="3554" class="Symbol">)</a>
                     <a id="3577" class="Symbol">(</a><a id="3578" href="GUI.GUIFeaturesPart8Paper.html#3578" class="Bound">new</a> <a id="3582" class="Symbol">:</a> <a id="3584" href="GUI.GUIFeaturesPart2Paper.html#812" class="Record">MachineState</a> <a id="3597" class="Symbol">(</a><a id="3598" href="GUI.GUIFeaturesPart8Paper.html#3525" class="Bound">S</a> <a id="3600" href="Data.Sum.Base.html#414" class="Datatype Operator">⊎</a> <a id="3602" href="Agda.Builtin.Unit.html#69" class="Record">Void</a><a id="3606" class="Symbol">))</a> <a id="3609" class="Symbol">→</a> <a id="3611" href="GUI.GUIFeaturesPart2Paper.html#934" class="Function">StateMachine</a> <a id="3624" class="Symbol">(</a><a id="3625" href="GUI.GUIFeaturesPart8Paper.html#3525" class="Bound">S</a> <a id="3627" href="Data.Sum.Base.html#414" class="Datatype Operator">⊎</a> <a id="3629" href="Agda.Builtin.Unit.html#69" class="Record">Void</a><a id="3633" class="Symbol">)</a>

<a id="3636" href="GUI.GUIFeaturesPart8Paper.html#3497" class="Function">extendStateMachOneState</a><a id="3659" class="Symbol">{</a><a id="3660" href="GUI.GUIFeaturesPart8Paper.html#3660" class="Bound">S</a><a id="3661" class="Symbol">}</a> <a id="3663" href="GUI.GUIFeaturesPart8Paper.html#3663" class="Bound">sm</a> <a id="3666" href="GUI.GUIFeaturesPart8Paper.html#3666" class="Bound">new</a> <a id="3670" class="Symbol">=</a> <a id="3672" href="GUI.GUIFeaturesPart8Paper.html#2500" class="Function">extendStateMachine</a> <a id="3691" href="GUI.GUIFeaturesPart8Paper.html#3660" class="Bound">S</a> <a id="3693" href="Agda.Builtin.Unit.html#69" class="Record">Void</a> <a id="3698" href="GUI.GUIFeaturesPart8Paper.html#3663" class="Bound">sm</a> <a id="3701" class="Symbol">(λ</a> <a id="3704" href="GUI.GUIFeaturesPart8Paper.html#3704" class="Bound">_</a> <a id="3706" class="Symbol">→</a> <a id="3708" href="GUI.GUIFeaturesPart8Paper.html#3666" class="Bound">new</a><a id="3711" class="Symbol">)</a>

<a id="mapS⊎[S&#39;⊎S&#39;&#39;]"></a><a id="3714" href="GUI.GUIFeaturesPart8Paper.html#3714" class="Function">mapS⊎[S&#39;⊎S&#39;&#39;]</a> <a id="3728" class="Symbol">:</a> <a id="3730" class="Symbol">{</a><a id="3731" href="GUI.GUIFeaturesPart8Paper.html#3731" class="Bound">S</a> <a id="3733" href="GUI.GUIFeaturesPart8Paper.html#3733" class="Bound">S&#39;</a> <a id="3736" href="GUI.GUIFeaturesPart8Paper.html#3736" class="Bound">S&#39;&#39;</a> <a id="3740" class="Symbol">:</a> <a id="3742" class="PrimitiveType">Set</a><a id="3745" class="Symbol">}</a>
                <a id="3763" class="Symbol">→</a> <a id="3765" href="GUI.GUIFeaturesPart8Paper.html#3731" class="Bound">S</a> <a id="3767" href="Data.Sum.Base.html#414" class="Datatype Operator">⊎</a> <a id="3769" href="GUI.GUIFeaturesPart8Paper.html#3733" class="Bound">S&#39;</a> <a id="3772" href="Data.Sum.Base.html#414" class="Datatype Operator">⊎</a> <a id="3774" href="GUI.GUIFeaturesPart8Paper.html#3736" class="Bound">S&#39;&#39;</a>
                <a id="3794" class="Symbol">→</a> <a id="3796" class="Symbol">(</a><a id="3797" href="GUI.GUIFeaturesPart8Paper.html#3731" class="Bound">S</a> <a id="3799" href="Data.Sum.Base.html#414" class="Datatype Operator">⊎</a> <a id="3801" href="GUI.GUIFeaturesPart8Paper.html#3733" class="Bound">S&#39;</a><a id="3803" class="Symbol">)</a> <a id="3805" href="Data.Sum.Base.html#414" class="Datatype Operator">⊎</a> <a id="3807" href="GUI.GUIFeaturesPart8Paper.html#3736" class="Bound">S&#39;&#39;</a>
<a id="3811" href="GUI.GUIFeaturesPart8Paper.html#3714" class="Function">mapS⊎[S&#39;⊎S&#39;&#39;]</a> <a id="3825" class="Symbol">(</a><a id="3826" href="Data.Sum.Base.html#470" class="InductiveConstructor">inj₁</a> <a id="3831" href="GUI.GUIFeaturesPart8Paper.html#3831" class="Bound">s</a><a id="3832" class="Symbol">)</a> <a id="3834" class="Symbol">=</a> <a id="3836" href="Data.Sum.Base.html#470" class="InductiveConstructor">inj₁</a> <a id="3841" class="Symbol">(</a><a id="3842" href="Data.Sum.Base.html#470" class="InductiveConstructor">inj₁</a> <a id="3847" href="GUI.GUIFeaturesPart8Paper.html#3831" class="Bound">s</a><a id="3848" class="Symbol">)</a>
<a id="3850" href="GUI.GUIFeaturesPart8Paper.html#3714" class="Function">mapS⊎[S&#39;⊎S&#39;&#39;]</a> <a id="3864" class="Symbol">(</a><a id="3865" href="Data.Sum.Base.html#495" class="InductiveConstructor">inj₂</a> <a id="3870" class="Symbol">(</a><a id="3871" href="Data.Sum.Base.html#470" class="InductiveConstructor">inj₁</a> <a id="3876" href="GUI.GUIFeaturesPart8Paper.html#3876" class="Bound">s&#39;</a><a id="3878" class="Symbol">))</a> <a id="3881" class="Symbol">=</a> <a id="3883" href="Data.Sum.Base.html#470" class="InductiveConstructor">inj₁</a> <a id="3888" class="Symbol">(</a><a id="3889" href="Data.Sum.Base.html#495" class="InductiveConstructor">inj₂</a> <a id="3894" href="GUI.GUIFeaturesPart8Paper.html#3876" class="Bound">s&#39;</a><a id="3896" class="Symbol">)</a>
<a id="3898" href="GUI.GUIFeaturesPart8Paper.html#3714" class="Function">mapS⊎[S&#39;⊎S&#39;&#39;]</a> <a id="3912" class="Symbol">(</a><a id="3913" href="Data.Sum.Base.html#495" class="InductiveConstructor">inj₂</a> <a id="3918" class="Symbol">(</a><a id="3919" href="Data.Sum.Base.html#495" class="InductiveConstructor">inj₂</a> <a id="3924" href="GUI.GUIFeaturesPart8Paper.html#3924" class="Bound">s&#39;&#39;</a><a id="3927" class="Symbol">))</a> <a id="3930" class="Symbol">=</a> <a id="3932" href="Data.Sum.Base.html#495" class="InductiveConstructor">inj₂</a> <a id="3937" href="GUI.GUIFeaturesPart8Paper.html#3924" class="Bound">s&#39;&#39;</a>

<a id="map[S⊎S&#39;]⊎S&#39;&#39;]"></a><a id="3942" href="GUI.GUIFeaturesPart8Paper.html#3942" class="Function">map[S⊎S&#39;]⊎S&#39;&#39;]</a> <a id="3957" class="Symbol">:</a> <a id="3959" class="Symbol">{</a><a id="3960" href="GUI.GUIFeaturesPart8Paper.html#3960" class="Bound">S</a> <a id="3962" href="GUI.GUIFeaturesPart8Paper.html#3962" class="Bound">S&#39;</a> <a id="3965" href="GUI.GUIFeaturesPart8Paper.html#3965" class="Bound">S&#39;&#39;</a> <a id="3969" class="Symbol">:</a> <a id="3971" class="PrimitiveType">Set</a><a id="3974" class="Symbol">}</a>
                <a id="3992" class="Symbol">→</a> <a id="3994" class="Symbol">(</a><a id="3995" href="GUI.GUIFeaturesPart8Paper.html#3960" class="Bound">S</a> <a id="3997" href="Data.Sum.Base.html#414" class="Datatype Operator">⊎</a> <a id="3999" href="GUI.GUIFeaturesPart8Paper.html#3962" class="Bound">S&#39;</a><a id="4001" class="Symbol">)</a> <a id="4003" href="Data.Sum.Base.html#414" class="Datatype Operator">⊎</a> <a id="4005" href="GUI.GUIFeaturesPart8Paper.html#3965" class="Bound">S&#39;&#39;</a>
                <a id="4025" class="Symbol">→</a> <a id="4027" href="GUI.GUIFeaturesPart8Paper.html#3960" class="Bound">S</a> <a id="4029" href="Data.Sum.Base.html#414" class="Datatype Operator">⊎</a> <a id="4031" href="GUI.GUIFeaturesPart8Paper.html#3962" class="Bound">S&#39;</a> <a id="4034" href="Data.Sum.Base.html#414" class="Datatype Operator">⊎</a> <a id="4036" href="GUI.GUIFeaturesPart8Paper.html#3965" class="Bound">S&#39;&#39;</a>
<a id="4040" href="GUI.GUIFeaturesPart8Paper.html#3942" class="Function">map[S⊎S&#39;]⊎S&#39;&#39;]</a> <a id="4055" class="Symbol">(</a><a id="4056" href="Data.Sum.Base.html#470" class="InductiveConstructor">inj₁</a> <a id="4061" class="Symbol">(</a><a id="4062" href="Data.Sum.Base.html#470" class="InductiveConstructor">inj₁</a> <a id="4067" href="GUI.GUIFeaturesPart8Paper.html#4067" class="Bound">s</a><a id="4068" class="Symbol">))</a> <a id="4071" class="Symbol">=</a> <a id="4073" href="Data.Sum.Base.html#470" class="InductiveConstructor">inj₁</a> <a id="4078" href="GUI.GUIFeaturesPart8Paper.html#4067" class="Bound">s</a>
<a id="4080" href="GUI.GUIFeaturesPart8Paper.html#3942" class="Function">map[S⊎S&#39;]⊎S&#39;&#39;]</a> <a id="4095" class="Symbol">(</a><a id="4096" href="Data.Sum.Base.html#470" class="InductiveConstructor">inj₁</a> <a id="4101" class="Symbol">(</a><a id="4102" href="Data.Sum.Base.html#495" class="InductiveConstructor">inj₂</a> <a id="4107" href="GUI.GUIFeaturesPart8Paper.html#4107" class="Bound">s&#39;</a><a id="4109" class="Symbol">))</a> <a id="4112" class="Symbol">=</a> <a id="4114" href="Data.Sum.Base.html#495" class="InductiveConstructor">inj₂</a> <a id="4119" class="Symbol">(</a><a id="4120" href="Data.Sum.Base.html#470" class="InductiveConstructor">inj₁</a> <a id="4125" href="GUI.GUIFeaturesPart8Paper.html#4107" class="Bound">s&#39;</a><a id="4127" class="Symbol">)</a>
<a id="4129" href="GUI.GUIFeaturesPart8Paper.html#3942" class="Function">map[S⊎S&#39;]⊎S&#39;&#39;]</a> <a id="4144" class="Symbol">(</a><a id="4145" href="Data.Sum.Base.html#495" class="InductiveConstructor">inj₂</a> <a id="4150" href="GUI.GUIFeaturesPart8Paper.html#4150" class="Bound">s&#39;&#39;</a><a id="4153" class="Symbol">)</a> <a id="4155" class="Symbol">=</a> <a id="4157" href="Data.Sum.Base.html#495" class="InductiveConstructor">inj₂</a> <a id="4162" class="Symbol">(</a><a id="4163" href="Data.Sum.Base.html#495" class="InductiveConstructor">inj₂</a> <a id="4168" href="GUI.GUIFeaturesPart8Paper.html#4150" class="Bound">s&#39;&#39;</a><a id="4171" class="Symbol">)</a>


<a id="extendSMachFixedState"></a><a id="4175" href="GUI.GUIFeaturesPart8Paper.html#4175" class="Function">extendSMachFixedState</a> <a id="4197" class="Symbol">:</a> <a id="4199" class="Symbol">{</a><a id="4200" href="GUI.GUIFeaturesPart8Paper.html#4200" class="Bound">S</a> <a id="4202" href="GUI.GUIFeaturesPart8Paper.html#4202" class="Bound">S&#39;</a> <a id="4205" href="GUI.GUIFeaturesPart8Paper.html#4205" class="Bound">S&#39;&#39;</a> <a id="4209" class="Symbol">:</a> <a id="4211" class="PrimitiveType">Set</a><a id="4214" class="Symbol">}</a>
                        <a id="4240" class="Symbol">(</a><a id="4241" href="GUI.GUIFeaturesPart8Paper.html#4241" class="Bound">sm</a> <a id="4244" class="Symbol">:</a> <a id="4246" href="GUI.GUIFeaturesPart2Paper.html#934" class="Function">StateMachine</a> <a id="4259" class="Symbol">(</a><a id="4260" href="GUI.GUIFeaturesPart8Paper.html#4200" class="Bound">S</a> <a id="4262" href="Data.Sum.Base.html#414" class="Datatype Operator">⊎</a> <a id="4264" href="GUI.GUIFeaturesPart8Paper.html#4202" class="Bound">S&#39;</a><a id="4266" class="Symbol">))</a>
                        <a id="4293" class="Symbol">(</a><a id="4294" href="GUI.GUIFeaturesPart8Paper.html#4294" class="Bound">new</a> <a id="4298" class="Symbol">:</a> <a id="4300" class="Symbol">(</a><a id="4301" href="GUI.GUIFeaturesPart8Paper.html#4301" class="Bound">s&#39;&#39;</a> <a id="4305" class="Symbol">:</a> <a id="4307" href="GUI.GUIFeaturesPart8Paper.html#4205" class="Bound">S&#39;&#39;</a><a id="4310" class="Symbol">)</a>
                        <a id="4336" class="Symbol">→</a> <a id="4338" href="GUI.GUIFeaturesPart2Paper.html#812" class="Record">MachineState</a> <a id="4351" class="Symbol">(</a><a id="4352" href="GUI.GUIFeaturesPart8Paper.html#4200" class="Bound">S</a> <a id="4354" href="Data.Sum.Base.html#414" class="Datatype Operator">⊎</a> <a id="4356" class="Symbol">(</a><a id="4357" href="GUI.GUIFeaturesPart8Paper.html#4202" class="Bound">S&#39;</a> <a id="4360" href="Data.Sum.Base.html#414" class="Datatype Operator">⊎</a> <a id="4362" href="GUI.GUIFeaturesPart8Paper.html#4205" class="Bound">S&#39;&#39;</a><a id="4365" class="Symbol">)))</a>
                        <a id="4393" class="Symbol">→</a> <a id="4395" href="GUI.GUIFeaturesPart2Paper.html#934" class="Function">StateMachine</a> <a id="4408" class="Symbol">(</a><a id="4409" href="GUI.GUIFeaturesPart8Paper.html#4200" class="Bound">S</a> <a id="4411" href="Data.Sum.Base.html#414" class="Datatype Operator">⊎</a> <a id="4413" class="Symbol">(</a><a id="4414" href="GUI.GUIFeaturesPart8Paper.html#4202" class="Bound">S&#39;</a> <a id="4417" href="Data.Sum.Base.html#414" class="Datatype Operator">⊎</a> <a id="4419" href="GUI.GUIFeaturesPart8Paper.html#4205" class="Bound">S&#39;&#39;</a><a id="4422" class="Symbol">))</a>
<a id="4425" href="GUI.GUIFeaturesPart8Paper.html#4175" class="Function">extendSMachFixedState</a> <a id="4447" class="Symbol">{</a><a id="4448" href="GUI.GUIFeaturesPart8Paper.html#4448" class="Bound">S</a><a id="4449" class="Symbol">}</a> <a id="4451" class="Symbol">{</a><a id="4452" href="GUI.GUIFeaturesPart8Paper.html#4452" class="Bound">S&#39;</a><a id="4454" class="Symbol">}</a> <a id="4456" class="Symbol">{</a><a id="4457" href="GUI.GUIFeaturesPart8Paper.html#4457" class="Bound">S&#39;&#39;</a><a id="4460" class="Symbol">}</a> <a id="4462" href="GUI.GUIFeaturesPart8Paper.html#4462" class="Bound">sm</a> <a id="4465" href="GUI.GUIFeaturesPart8Paper.html#4465" class="Bound">new</a> <a id="4469" class="Symbol">=</a>
    <a id="4475" href="GUI.GUIFeaturesPart8Paper.html#2240" class="Function">adaptStateMachine</a> <a id="4493" class="Symbol">((</a><a id="4495" href="GUI.GUIFeaturesPart8Paper.html#4448" class="Bound">S</a> <a id="4497" href="Data.Sum.Base.html#414" class="Datatype Operator">⊎</a> <a id="4499" href="GUI.GUIFeaturesPart8Paper.html#4452" class="Bound">S&#39;</a><a id="4501" class="Symbol">)</a> <a id="4503" href="Data.Sum.Base.html#414" class="Datatype Operator">⊎</a> <a id="4505" href="GUI.GUIFeaturesPart8Paper.html#4457" class="Bound">S&#39;&#39;</a><a id="4508" class="Symbol">)</a> <a id="4510" class="Symbol">(</a><a id="4511" href="GUI.GUIFeaturesPart8Paper.html#4448" class="Bound">S</a> <a id="4513" href="Data.Sum.Base.html#414" class="Datatype Operator">⊎</a> <a id="4515" href="GUI.GUIFeaturesPart8Paper.html#4452" class="Bound">S&#39;</a> <a id="4518" href="Data.Sum.Base.html#414" class="Datatype Operator">⊎</a> <a id="4520" href="GUI.GUIFeaturesPart8Paper.html#4457" class="Bound">S&#39;&#39;</a><a id="4523" class="Symbol">)</a> <a id="4525" href="GUI.GUIFeaturesPart8Paper.html#3942" class="Function">map[S⊎S&#39;]⊎S&#39;&#39;]</a> <a id="4540" href="GUI.GUIFeaturesPart8Paper.html#3714" class="Function">mapS⊎[S&#39;⊎S&#39;&#39;]</a> <a id="4554" class="Symbol">(</a><a id="4555" href="GUI.GUIFeaturesPart8Paper.html#2500" class="Function">extendStateMachine</a> <a id="4574" class="Symbol">(</a><a id="4575" href="GUI.GUIFeaturesPart8Paper.html#4448" class="Bound">S</a> <a id="4577" href="Data.Sum.Base.html#414" class="Datatype Operator">⊎</a> <a id="4579" href="GUI.GUIFeaturesPart8Paper.html#4452" class="Bound">S&#39;</a><a id="4581" class="Symbol">)</a> <a id="4583" href="GUI.GUIFeaturesPart8Paper.html#4457" class="Bound">S&#39;&#39;</a> <a id="4587" href="GUI.GUIFeaturesPart8Paper.html#4462" class="Bound">sm</a> <a id="4590" class="Symbol">(λ</a> <a id="4593" href="GUI.GUIFeaturesPart8Paper.html#4593" class="Bound">s&#39;&#39;</a> <a id="4597" class="Symbol">→</a> <a id="4599" href="GUI.GUIFeaturesPart8Paper.html#1929" class="Function">adaptStateSMachineState</a> <a id="4623" class="Symbol">{</a><a id="4624" href="GUI.GUIFeaturesPart8Paper.html#4448" class="Bound">S</a> <a id="4626" href="Data.Sum.Base.html#414" class="Datatype Operator">⊎</a> <a id="4628" class="Symbol">(</a><a id="4629" href="GUI.GUIFeaturesPart8Paper.html#4452" class="Bound">S&#39;</a> <a id="4632" href="Data.Sum.Base.html#414" class="Datatype Operator">⊎</a> <a id="4634" href="GUI.GUIFeaturesPart8Paper.html#4457" class="Bound">S&#39;&#39;</a><a id="4637" class="Symbol">)}</a> <a id="4640" class="Symbol">{(</a><a id="4642" href="GUI.GUIFeaturesPart8Paper.html#4448" class="Bound">S</a> <a id="4644" href="Data.Sum.Base.html#414" class="Datatype Operator">⊎</a> <a id="4646" href="GUI.GUIFeaturesPart8Paper.html#4452" class="Bound">S&#39;</a><a id="4648" class="Symbol">)</a> <a id="4650" href="Data.Sum.Base.html#414" class="Datatype Operator">⊎</a> <a id="4652" href="GUI.GUIFeaturesPart8Paper.html#4457" class="Bound">S&#39;&#39;</a><a id="4655" class="Symbol">}</a> <a id="4657" href="GUI.GUIFeaturesPart8Paper.html#3714" class="Function">mapS⊎[S&#39;⊎S&#39;&#39;]</a> <a id="4671" class="Symbol">(</a><a id="4672" href="GUI.GUIFeaturesPart8Paper.html#4465" class="Bound">new</a> <a id="4676" href="GUI.GUIFeaturesPart8Paper.html#4593" class="Bound">s&#39;&#39;</a><a id="4679" class="Symbol">)))</a> <a id="4683" class="Comment">--(inj₂ (inj₂ s&#39;&#39;)) (inj₂ s&#39;&#39;) (new s&#39;&#39;)))</a>

<a id="extendSMachFixedState1"></a><a id="4727" href="GUI.GUIFeaturesPart8Paper.html#4727" class="Function">extendSMachFixedState1</a> <a id="4750" class="Symbol">:</a> <a id="4752" class="Symbol">{</a><a id="4753" href="GUI.GUIFeaturesPart8Paper.html#4753" class="Bound">S</a> <a id="4755" href="GUI.GUIFeaturesPart8Paper.html#4755" class="Bound">S&#39;</a> <a id="4758" class="Symbol">:</a> <a id="4760" class="PrimitiveType">Set</a><a id="4763" class="Symbol">}</a>
                         <a id="4790" class="Symbol">(</a><a id="4791" href="GUI.GUIFeaturesPart8Paper.html#4791" class="Bound">sm</a> <a id="4794" class="Symbol">:</a> <a id="4796" href="GUI.GUIFeaturesPart2Paper.html#934" class="Function">StateMachine</a> <a id="4809" class="Symbol">(</a><a id="4810" href="GUI.GUIFeaturesPart8Paper.html#4753" class="Bound">S</a> <a id="4812" href="Data.Sum.Base.html#414" class="Datatype Operator">⊎</a> <a id="4814" href="GUI.GUIFeaturesPart8Paper.html#4755" class="Bound">S&#39;</a><a id="4816" class="Symbol">))</a>
                         <a id="4844" class="Symbol">(</a><a id="4845" href="GUI.GUIFeaturesPart8Paper.html#4845" class="Bound">new</a> <a id="4849" class="Symbol">:</a> <a id="4851" href="GUI.GUIFeaturesPart2Paper.html#812" class="Record">MachineState</a> <a id="4864" class="Symbol">(</a><a id="4865" href="GUI.GUIFeaturesPart8Paper.html#4753" class="Bound">S</a> <a id="4867" href="Data.Sum.Base.html#414" class="Datatype Operator">⊎</a> <a id="4869" class="Symbol">(</a><a id="4870" href="GUI.GUIFeaturesPart8Paper.html#4755" class="Bound">S&#39;</a> <a id="4873" href="Data.Sum.Base.html#414" class="Datatype Operator">⊎</a> <a id="4875" href="Agda.Builtin.Unit.html#69" class="Record">Void</a><a id="4879" class="Symbol">)))</a>
                              <a id="4913" class="Symbol">→</a> <a id="4915" href="GUI.GUIFeaturesPart2Paper.html#934" class="Function">StateMachine</a> <a id="4928" class="Symbol">(</a><a id="4929" href="GUI.GUIFeaturesPart8Paper.html#4753" class="Bound">S</a> <a id="4931" href="Data.Sum.Base.html#414" class="Datatype Operator">⊎</a> <a id="4933" class="Symbol">(</a><a id="4934" href="GUI.GUIFeaturesPart8Paper.html#4755" class="Bound">S&#39;</a> <a id="4937" href="Data.Sum.Base.html#414" class="Datatype Operator">⊎</a> <a id="4939" href="Agda.Builtin.Unit.html#69" class="Record">Void</a><a id="4943" class="Symbol">))</a>
<a id="4946" href="GUI.GUIFeaturesPart8Paper.html#4727" class="Function">extendSMachFixedState1</a> <a id="4969" href="GUI.GUIFeaturesPart8Paper.html#4969" class="Bound">sm</a> <a id="4972" href="GUI.GUIFeaturesPart8Paper.html#4972" class="Bound">new</a> <a id="4976" class="Symbol">=</a> <a id="4978" href="GUI.GUIFeaturesPart8Paper.html#4175" class="Function">extendSMachFixedState</a> <a id="5000" href="GUI.GUIFeaturesPart8Paper.html#4969" class="Bound">sm</a> <a id="5003" class="Symbol">(λ</a> <a id="5006" href="GUI.GUIFeaturesPart8Paper.html#5006" class="Bound">_</a> <a id="5008" class="Symbol">→</a> <a id="5010" href="GUI.GUIFeaturesPart8Paper.html#4972" class="Bound">new</a><a id="5013" class="Symbol">)</a>


<a id="5017" class="Comment">{-   FEATURE MACHINE -}</a>
<a id="5041" class="Comment">-- \GUIFeaturesPartEightPaper</a>
<a id="FeatureMachineNaive"></a><a id="5071" href="GUI.GUIFeaturesPart8Paper.html#5071" class="Function">FeatureMachineNaive</a> <a id="5091" class="Symbol">:</a> <a id="5093" class="Symbol">(</a><a id="5094" href="GUI.GUIFeaturesPart8Paper.html#5094" class="Bound">F</a> <a id="5096" href="GUI.GUIFeaturesPart8Paper.html#5096" class="Bound">S</a> <a id="5098" class="Symbol">:</a> <a id="5100" class="PrimitiveType">Set</a><a id="5103" class="Symbol">)</a> <a id="5105" class="Symbol">→</a> <a id="5107" class="PrimitiveType">Set</a>
<a id="5111" href="GUI.GUIFeaturesPart8Paper.html#5071" class="Function">FeatureMachineNaive</a> <a id="5131" href="GUI.GUIFeaturesPart8Paper.html#5131" class="Bound">F</a> <a id="5133" href="GUI.GUIFeaturesPart8Paper.html#5133" class="Bound">S</a> <a id="5135" class="Symbol">=</a> <a id="5137" class="Symbol">(</a><a id="5138" href="GUI.GUIFeaturesPart8Paper.html#5138" class="Bound">f</a> <a id="5140" class="Symbol">:</a> <a id="5142" href="GUI.GUIFeaturesPart8Paper.html#5131" class="Bound">F</a><a id="5143" class="Symbol">)</a> <a id="5145" class="Symbol">→</a> <a id="5147" href="GUI.GUIFeaturesPart2Paper.html#934" class="Function">StateMachine</a> <a id="5160" href="GUI.GUIFeaturesPart8Paper.html#5133" class="Bound">S</a>


<a id="5164" class="Comment">{-
FeatureMachine : (F : Set)(B : Set)(S&#39; : Set) → Set
FeatureMachine F B S&#39; = (f : F) → StateMachine (B  ⊎ S&#39;)
-}</a>

<a id="5280" class="Comment">-- \GUIFeaturesPartEightPaper</a>
<a id="FeatureMachine"></a><a id="5310" href="GUI.GUIFeaturesPart8Paper.html#5310" class="Function">FeatureMachine</a> <a id="5325" class="Symbol">:</a> <a id="5327" class="Symbol">(</a><a id="5328" href="GUI.GUIFeaturesPart8Paper.html#5328" class="Bound">F</a> <a id="5330" href="GUI.GUIFeaturesPart8Paper.html#5330" class="Bound">B</a> <a id="5332" href="GUI.GUIFeaturesPart8Paper.html#5332" class="Bound">S</a> <a id="5334" class="Symbol">:</a> <a id="5336" class="PrimitiveType">Set</a><a id="5339" class="Symbol">)</a>  <a id="5342" class="Symbol">→</a> <a id="5344" class="PrimitiveType">Set</a>
<a id="5348" href="GUI.GUIFeaturesPart8Paper.html#5310" class="Function">FeatureMachine</a> <a id="5363" href="GUI.GUIFeaturesPart8Paper.html#5363" class="Bound">F</a> <a id="5365" href="GUI.GUIFeaturesPart8Paper.html#5365" class="Bound">B</a> <a id="5367" href="GUI.GUIFeaturesPart8Paper.html#5367" class="Bound">S</a> <a id="5369" class="Symbol">=</a> <a id="5371" class="Symbol">(</a><a id="5372" href="GUI.GUIFeaturesPart8Paper.html#5372" class="Bound">f</a> <a id="5374" class="Symbol">:</a> <a id="5376" href="GUI.GUIFeaturesPart8Paper.html#5363" class="Bound">F</a><a id="5377" class="Symbol">)</a> <a id="5379" class="Symbol">→</a> <a id="5381" href="GUI.GUIFeaturesPart2Paper.html#934" class="Function">StateMachine</a> <a id="5394" class="Symbol">(</a><a id="5395" href="GUI.GUIFeaturesPart8Paper.html#5365" class="Bound">B</a> <a id="5397" href="Data.Sum.Base.html#414" class="Datatype Operator">⊎</a> <a id="5399" href="GUI.GUIFeaturesPart8Paper.html#5367" class="Bound">S</a><a id="5400" class="Symbol">)</a>


<a id="adaptFeatureMachine&#39;"></a><a id="5404" href="GUI.GUIFeaturesPart8Paper.html#5404" class="Function">adaptFeatureMachine&#39;</a> <a id="5425" class="Symbol">:</a> <a id="5427" class="Symbol">{</a><a id="5428" href="GUI.GUIFeaturesPart8Paper.html#5428" class="Bound">F</a> <a id="5430" class="Symbol">:</a> <a id="5432" class="PrimitiveType">Set</a><a id="5435" class="Symbol">}{</a><a id="5437" href="GUI.GUIFeaturesPart8Paper.html#5437" class="Bound">S</a> <a id="5439" href="GUI.GUIFeaturesPart8Paper.html#5439" class="Bound">S&#39;</a> <a id="5442" class="Symbol">:</a> <a id="5444" class="PrimitiveType">Set</a><a id="5447" class="Symbol">}(</a><a id="5449" href="GUI.GUIFeaturesPart8Paper.html#5449" class="Bound">ss&#39;</a> <a id="5453" class="Symbol">:</a> <a id="5455" href="GUI.GUIFeaturesPart8Paper.html#5437" class="Bound">S</a> <a id="5457" class="Symbol">→</a> <a id="5459" href="GUI.GUIFeaturesPart8Paper.html#5439" class="Bound">S&#39;</a><a id="5461" class="Symbol">)(</a><a id="5463" href="GUI.GUIFeaturesPart8Paper.html#5463" class="Bound">s&#39;s</a> <a id="5467" class="Symbol">:</a> <a id="5469" href="GUI.GUIFeaturesPart8Paper.html#5439" class="Bound">S&#39;</a> <a id="5472" class="Symbol">→</a> <a id="5474" href="GUI.GUIFeaturesPart8Paper.html#5437" class="Bound">S</a><a id="5475" class="Symbol">)</a>
                     <a id="5498" class="Symbol">(</a><a id="5499" href="GUI.GUIFeaturesPart8Paper.html#5499" class="Bound">fm</a> <a id="5502" class="Symbol">:</a> <a id="5504" href="GUI.GUIFeaturesPart8Paper.html#5071" class="Function">FeatureMachineNaive</a> <a id="5524" href="GUI.GUIFeaturesPart8Paper.html#5428" class="Bound">F</a> <a id="5526" href="GUI.GUIFeaturesPart8Paper.html#5437" class="Bound">S</a><a id="5527" class="Symbol">)</a> <a id="5529" class="Symbol">→</a> <a id="5531" href="GUI.GUIFeaturesPart8Paper.html#5071" class="Function">FeatureMachineNaive</a> <a id="5551" href="GUI.GUIFeaturesPart8Paper.html#5428" class="Bound">F</a> <a id="5553" href="GUI.GUIFeaturesPart8Paper.html#5439" class="Bound">S&#39;</a>
<a id="5556" href="GUI.GUIFeaturesPart8Paper.html#5404" class="Function">adaptFeatureMachine&#39;</a> <a id="5577" class="Symbol">{</a><a id="5578" href="GUI.GUIFeaturesPart8Paper.html#5578" class="Bound">F</a><a id="5579" class="Symbol">}{</a><a id="5581" href="GUI.GUIFeaturesPart8Paper.html#5581" class="Bound">S</a><a id="5582" class="Symbol">}{</a><a id="5584" href="GUI.GUIFeaturesPart8Paper.html#5584" class="Bound">S&#39;</a><a id="5586" class="Symbol">}</a> <a id="5588" href="GUI.GUIFeaturesPart8Paper.html#5588" class="Bound">ss&#39;</a> <a id="5592" href="GUI.GUIFeaturesPart8Paper.html#5592" class="Bound">s&#39;s</a> <a id="5596" href="GUI.GUIFeaturesPart8Paper.html#5596" class="Bound">fm</a> <a id="5599" href="GUI.GUIFeaturesPart8Paper.html#5599" class="Bound">f</a> <a id="5601" class="Symbol">=</a> <a id="5603" href="GUI.GUIFeaturesPart8Paper.html#2240" class="Function">adaptStateMachine</a> <a id="5621" href="GUI.GUIFeaturesPart8Paper.html#5581" class="Bound">S</a> <a id="5623" href="GUI.GUIFeaturesPart8Paper.html#5584" class="Bound">S&#39;</a> <a id="5626" href="GUI.GUIFeaturesPart8Paper.html#5588" class="Bound">ss&#39;</a> <a id="5630" href="GUI.GUIFeaturesPart8Paper.html#5592" class="Bound">s&#39;s</a> <a id="5634" class="Symbol">(</a><a id="5635" href="GUI.GUIFeaturesPart8Paper.html#5596" class="Bound">fm</a> <a id="5638" href="GUI.GUIFeaturesPart8Paper.html#5599" class="Bound">f</a><a id="5639" class="Symbol">)</a>


<a id="5643" class="Comment">{-
adaptFeatureMachine : {F : Set}{B S S&#39; : Set}(ss&#39; : S → S&#39;)(s&#39;s : S&#39; → S)
                     (fm : FeatureMachineNaive F B S) → FeatureMachineNaive F B S&#39;
adaptFeatureMachine {F}{B}{S}{S&#39;} ss&#39; s&#39;s fm f
    = adaptStateMachine (B ⊎ S) (B ⊎ S&#39;) (mapSum (λ b → b)  ss&#39;) (mapSum (λ b → b)  s&#39;s)   (fm f)
-}</a>


<a id="extendFeatureMachineGen"></a><a id="5953" href="GUI.GUIFeaturesPart8Paper.html#5953" class="Function">extendFeatureMachineGen</a> <a id="5977" class="Symbol">:</a> <a id="5979" class="Symbol">{</a><a id="5980" href="GUI.GUIFeaturesPart8Paper.html#5980" class="Bound">F</a> <a id="5982" class="Symbol">:</a> <a id="5984" class="PrimitiveType">Set</a><a id="5987" class="Symbol">}{</a><a id="5989" href="GUI.GUIFeaturesPart8Paper.html#5989" class="Bound">S</a> <a id="5991" href="GUI.GUIFeaturesPart8Paper.html#5991" class="Bound">S&#39;</a> <a id="5994" class="Symbol">:</a> <a id="5996" class="PrimitiveType">Set</a><a id="5999" class="Symbol">}</a>
                       <a id="6024" class="Symbol">(</a><a id="6025" href="GUI.GUIFeaturesPart8Paper.html#6025" class="Bound">fm</a> <a id="6028" class="Symbol">:</a> <a id="6030" href="GUI.GUIFeaturesPart8Paper.html#5071" class="Function">FeatureMachineNaive</a> <a id="6050" href="GUI.GUIFeaturesPart8Paper.html#5980" class="Bound">F</a> <a id="6052" href="GUI.GUIFeaturesPart8Paper.html#5989" class="Bound">S</a><a id="6053" class="Symbol">)</a>
                       <a id="6078" class="Symbol">(</a><a id="6079" href="GUI.GUIFeaturesPart8Paper.html#6079" class="Bound">new</a> <a id="6083" class="Symbol">:</a> <a id="6085" class="Symbol">(</a><a id="6086" href="GUI.GUIFeaturesPart8Paper.html#6086" class="Bound">f</a> <a id="6088" class="Symbol">:</a> <a id="6090" href="GUI.GUIFeaturesPart8Paper.html#5980" class="Bound">F</a><a id="6091" class="Symbol">)</a> <a id="6093" class="Symbol">(</a><a id="6094" href="GUI.GUIFeaturesPart8Paper.html#6094" class="Bound">s&#39;</a> <a id="6097" class="Symbol">:</a> <a id="6099" href="GUI.GUIFeaturesPart8Paper.html#5991" class="Bound">S&#39;</a><a id="6101" class="Symbol">)</a>
                               <a id="6134" class="Symbol">→</a> <a id="6136" href="GUI.GUIFeaturesPart2Paper.html#812" class="Record">MachineState</a> <a id="6149" class="Symbol">(</a><a id="6150" href="GUI.GUIFeaturesPart8Paper.html#5989" class="Bound">S</a> <a id="6152" href="Data.Sum.Base.html#414" class="Datatype Operator">⊎</a> <a id="6154" href="GUI.GUIFeaturesPart8Paper.html#5991" class="Bound">S&#39;</a><a id="6156" class="Symbol">))</a>
                      <a id="6181" class="Symbol">→</a> <a id="6183" href="GUI.GUIFeaturesPart8Paper.html#5071" class="Function">FeatureMachineNaive</a> <a id="6203" href="GUI.GUIFeaturesPart8Paper.html#5980" class="Bound">F</a> <a id="6205" class="Symbol">(</a><a id="6206" href="GUI.GUIFeaturesPart8Paper.html#5989" class="Bound">S</a> <a id="6208" href="Data.Sum.Base.html#414" class="Datatype Operator">⊎</a> <a id="6210" href="GUI.GUIFeaturesPart8Paper.html#5991" class="Bound">S&#39;</a><a id="6212" class="Symbol">)</a>
<a id="6214" href="GUI.GUIFeaturesPart8Paper.html#5953" class="Function">extendFeatureMachineGen</a> <a id="6238" class="Symbol">{_}{</a><a id="6242" href="GUI.GUIFeaturesPart8Paper.html#6242" class="Bound">S</a><a id="6243" class="Symbol">}{</a><a id="6245" href="GUI.GUIFeaturesPart8Paper.html#6245" class="Bound">S&#39;</a><a id="6247" class="Symbol">}</a> <a id="6249" href="GUI.GUIFeaturesPart8Paper.html#6249" class="Bound">fm</a> <a id="6252" href="GUI.GUIFeaturesPart8Paper.html#6252" class="Bound">new</a> <a id="6256" href="GUI.GUIFeaturesPart8Paper.html#6256" class="Bound">f</a> <a id="6258" href="GUI.GUIFeaturesPart8Paper.html#6258" class="Bound">s</a> <a id="6260" class="Symbol">=</a> <a id="6262" href="GUI.GUIFeaturesPart8Paper.html#2500" class="Function">extendStateMachine</a> <a id="6281" href="GUI.GUIFeaturesPart8Paper.html#6242" class="Bound">S</a> <a id="6283" href="GUI.GUIFeaturesPart8Paper.html#6245" class="Bound">S&#39;</a> <a id="6286" class="Symbol">(</a><a id="6287" href="GUI.GUIFeaturesPart8Paper.html#6249" class="Bound">fm</a> <a id="6290" href="GUI.GUIFeaturesPart8Paper.html#6256" class="Bound">f</a><a id="6291" class="Symbol">)</a> <a id="6293" class="Symbol">(</a><a id="6294" href="GUI.GUIFeaturesPart8Paper.html#6252" class="Bound">new</a> <a id="6298" href="GUI.GUIFeaturesPart8Paper.html#6256" class="Bound">f</a><a id="6299" class="Symbol">)</a> <a id="6301" href="GUI.GUIFeaturesPart8Paper.html#6258" class="Bound">s</a>




<a id="extendFeatureMachineStates"></a><a id="6307" href="GUI.GUIFeaturesPart8Paper.html#6307" class="Function">extendFeatureMachineStates</a> <a id="6334" class="Symbol">:</a> <a id="6336" class="Symbol">{</a><a id="6337" href="GUI.GUIFeaturesPart8Paper.html#6337" class="Bound">F</a> <a id="6339" class="Symbol">:</a> <a id="6341" class="PrimitiveType">Set</a><a id="6344" class="Symbol">}</a> <a id="6346" class="Symbol">{</a><a id="6347" href="GUI.GUIFeaturesPart8Paper.html#6347" class="Bound">S</a> <a id="6349" href="GUI.GUIFeaturesPart8Paper.html#6349" class="Bound">S&#39;</a> <a id="6352" href="GUI.GUIFeaturesPart8Paper.html#6352" class="Bound">S&#39;&#39;</a> <a id="6356" class="Symbol">:</a> <a id="6358" class="PrimitiveType">Set</a><a id="6361" class="Symbol">}</a>
                           <a id="6390" class="Symbol">(</a><a id="6391" href="GUI.GUIFeaturesPart8Paper.html#6391" class="Bound">fm</a> <a id="6394" class="Symbol">:</a> <a id="6396" href="GUI.GUIFeaturesPart8Paper.html#5071" class="Function">FeatureMachineNaive</a> <a id="6416" href="GUI.GUIFeaturesPart8Paper.html#6337" class="Bound">F</a> <a id="6418" class="Symbol">(</a><a id="6419" href="GUI.GUIFeaturesPart8Paper.html#6347" class="Bound">S</a> <a id="6421" href="Data.Sum.Base.html#414" class="Datatype Operator">⊎</a> <a id="6423" href="GUI.GUIFeaturesPart8Paper.html#6349" class="Bound">S&#39;</a><a id="6425" class="Symbol">))</a>
                          <a id="6454" class="Symbol">(</a><a id="6455" href="GUI.GUIFeaturesPart8Paper.html#6455" class="Bound">new</a> <a id="6459" class="Symbol">:</a> <a id="6461" class="Symbol">(</a><a id="6462" href="GUI.GUIFeaturesPart8Paper.html#6462" class="Bound">f</a> <a id="6464" class="Symbol">:</a> <a id="6466" href="GUI.GUIFeaturesPart8Paper.html#6337" class="Bound">F</a><a id="6467" class="Symbol">)(</a><a id="6469" href="GUI.GUIFeaturesPart8Paper.html#6469" class="Bound">s&#39;&#39;</a> <a id="6473" class="Symbol">:</a> <a id="6475" href="GUI.GUIFeaturesPart8Paper.html#6352" class="Bound">S&#39;&#39;</a><a id="6478" class="Symbol">)</a>
                           <a id="6507" class="Symbol">→</a> <a id="6509" href="GUI.GUIFeaturesPart2Paper.html#812" class="Record">MachineState</a> <a id="6522" class="Symbol">(</a><a id="6523" href="GUI.GUIFeaturesPart8Paper.html#6347" class="Bound">S</a> <a id="6525" href="Data.Sum.Base.html#414" class="Datatype Operator">⊎</a> <a id="6527" class="Symbol">(</a><a id="6528" href="GUI.GUIFeaturesPart8Paper.html#6349" class="Bound">S&#39;</a> <a id="6531" href="Data.Sum.Base.html#414" class="Datatype Operator">⊎</a> <a id="6533" href="GUI.GUIFeaturesPart8Paper.html#6352" class="Bound">S&#39;&#39;</a><a id="6536" class="Symbol">)))</a>
                          <a id="6566" class="Symbol">→</a> <a id="6568" href="GUI.GUIFeaturesPart8Paper.html#5071" class="Function">FeatureMachineNaive</a> <a id="6588" href="GUI.GUIFeaturesPart8Paper.html#6337" class="Bound">F</a> <a id="6590" class="Symbol">(</a><a id="6591" href="GUI.GUIFeaturesPart8Paper.html#6347" class="Bound">S</a> <a id="6593" href="Data.Sum.Base.html#414" class="Datatype Operator">⊎</a> <a id="6595" class="Symbol">(</a><a id="6596" href="GUI.GUIFeaturesPart8Paper.html#6349" class="Bound">S&#39;</a> <a id="6599" href="Data.Sum.Base.html#414" class="Datatype Operator">⊎</a> <a id="6601" href="GUI.GUIFeaturesPart8Paper.html#6352" class="Bound">S&#39;&#39;</a><a id="6604" class="Symbol">))</a>
<a id="6607" href="GUI.GUIFeaturesPart8Paper.html#6307" class="Function">extendFeatureMachineStates</a> <a id="6634" href="GUI.GUIFeaturesPart8Paper.html#6634" class="Bound">fm</a> <a id="6637" href="GUI.GUIFeaturesPart8Paper.html#6637" class="Bound">new</a> <a id="6641" href="GUI.GUIFeaturesPart8Paper.html#6641" class="Bound">f</a> <a id="6643" class="Symbol">=</a> <a id="6645" href="GUI.GUIFeaturesPart8Paper.html#4175" class="Function">extendSMachFixedState</a> <a id="6667" class="Symbol">(</a><a id="6668" href="GUI.GUIFeaturesPart8Paper.html#6634" class="Bound">fm</a> <a id="6671" href="GUI.GUIFeaturesPart8Paper.html#6641" class="Bound">f</a><a id="6672" class="Symbol">)</a> <a id="6674" class="Symbol">(</a><a id="6675" href="GUI.GUIFeaturesPart8Paper.html#6637" class="Bound">new</a> <a id="6679" href="GUI.GUIFeaturesPart8Paper.html#6641" class="Bound">f</a><a id="6680" class="Symbol">)</a>

<a id="extendFeatureMachineState&#39;"></a><a id="6683" href="GUI.GUIFeaturesPart8Paper.html#6683" class="Function">extendFeatureMachineState&#39;</a> <a id="6710" class="Symbol">:</a>  
                              <a id="6744" class="Symbol">{</a><a id="6745" href="GUI.GUIFeaturesPart8Paper.html#6745" class="Bound">F</a> <a id="6747" class="Symbol">:</a> <a id="6749" class="PrimitiveType">Set</a><a id="6752" class="Symbol">}</a> <a id="6754" class="Symbol">{</a><a id="6755" href="GUI.GUIFeaturesPart8Paper.html#6755" class="Bound">S</a> <a id="6757" href="GUI.GUIFeaturesPart8Paper.html#6757" class="Bound">S&#39;</a> <a id="6760" class="Symbol">:</a> <a id="6762" class="PrimitiveType">Set</a><a id="6765" class="Symbol">}</a> 
                              <a id="6798" class="Symbol">(</a><a id="6799" href="GUI.GUIFeaturesPart8Paper.html#6799" class="Bound">fm</a> <a id="6802" class="Symbol">:</a> <a id="6804" href="GUI.GUIFeaturesPart8Paper.html#5071" class="Function">FeatureMachineNaive</a> <a id="6824" href="GUI.GUIFeaturesPart8Paper.html#6745" class="Bound">F</a> <a id="6826" class="Symbol">(</a><a id="6827" href="GUI.GUIFeaturesPart8Paper.html#6755" class="Bound">S</a> <a id="6829" href="Data.Sum.Base.html#414" class="Datatype Operator">⊎</a> <a id="6831" href="GUI.GUIFeaturesPart8Paper.html#6757" class="Bound">S&#39;</a><a id="6833" class="Symbol">))</a>
                              <a id="6866" class="Symbol">(</a><a id="6867" href="GUI.GUIFeaturesPart8Paper.html#6867" class="Bound">new</a> <a id="6871" class="Symbol">:</a> <a id="6873" href="GUI.GUIFeaturesPart2Paper.html#812" class="Record">MachineState</a> <a id="6886" class="Symbol">(</a><a id="6887" href="GUI.GUIFeaturesPart8Paper.html#6755" class="Bound">S</a> <a id="6889" href="Data.Sum.Base.html#414" class="Datatype Operator">⊎</a> <a id="6891" class="Symbol">(</a><a id="6892" href="GUI.GUIFeaturesPart8Paper.html#6757" class="Bound">S&#39;</a> <a id="6895" href="Data.Sum.Base.html#414" class="Datatype Operator">⊎</a> <a id="6897" href="Agda.Builtin.Unit.html#69" class="Record">Void</a><a id="6901" class="Symbol">)))</a>
                              <a id="6935" class="Symbol">→</a> <a id="6937" href="GUI.GUIFeaturesPart8Paper.html#5071" class="Function">FeatureMachineNaive</a> <a id="6957" href="GUI.GUIFeaturesPart8Paper.html#6745" class="Bound">F</a> <a id="6959" class="Symbol">(</a><a id="6960" href="GUI.GUIFeaturesPart8Paper.html#6755" class="Bound">S</a> <a id="6962" href="Data.Sum.Base.html#414" class="Datatype Operator">⊎</a> <a id="6964" class="Symbol">(</a><a id="6965" href="GUI.GUIFeaturesPart8Paper.html#6757" class="Bound">S&#39;</a> <a id="6968" href="Data.Sum.Base.html#414" class="Datatype Operator">⊎</a> <a id="6970" href="Agda.Builtin.Unit.html#69" class="Record">Void</a><a id="6974" class="Symbol">))</a>
<a id="6977" href="GUI.GUIFeaturesPart8Paper.html#6683" class="Function">extendFeatureMachineState&#39;</a> <a id="7004" href="GUI.GUIFeaturesPart8Paper.html#7004" class="Bound">fm</a> <a id="7007" href="GUI.GUIFeaturesPart8Paper.html#7007" class="Bound">new</a> <a id="7011" href="GUI.GUIFeaturesPart8Paper.html#7011" class="Bound">f</a> <a id="7013" class="Symbol">=</a> <a id="7015" href="GUI.GUIFeaturesPart8Paper.html#4175" class="Function">extendSMachFixedState</a> <a id="7037" class="Symbol">(</a><a id="7038" href="GUI.GUIFeaturesPart8Paper.html#7004" class="Bound">fm</a> <a id="7041" href="GUI.GUIFeaturesPart8Paper.html#7011" class="Bound">f</a><a id="7042" class="Symbol">)</a> <a id="7044" class="Symbol">(λ</a> <a id="7047" href="GUI.GUIFeaturesPart8Paper.html#7047" class="Bound">_</a> <a id="7049" class="Symbol">→</a> <a id="7051" href="GUI.GUIFeaturesPart8Paper.html#7007" class="Bound">new</a><a id="7054" class="Symbol">)</a>


<a id="7058" class="Comment">-- \GUIFeaturesPartEightPaper</a>
<a id="addStateToFeatureMachine"></a><a id="7088" href="GUI.GUIFeaturesPart8Paper.html#7088" class="Function">addStateToFeatureMachine</a> <a id="7113" class="Symbol">:</a> <a id="7115" class="Symbol">{</a><a id="7116" href="GUI.GUIFeaturesPart8Paper.html#7116" class="Bound">F</a> <a id="7118" href="GUI.GUIFeaturesPart8Paper.html#7118" class="Bound">B</a> <a id="7120" href="GUI.GUIFeaturesPart8Paper.html#7120" class="Bound">S&#39;</a> <a id="7123" class="Symbol">:</a> <a id="7125" class="PrimitiveType">Set</a><a id="7128" class="Symbol">}</a> <a id="7130" class="Symbol">(</a><a id="7131" href="GUI.GUIFeaturesPart8Paper.html#7131" class="Bound">fm</a> <a id="7134" class="Symbol">:</a> <a id="7136" href="GUI.GUIFeaturesPart8Paper.html#5310" class="Function">FeatureMachine</a> <a id="7151" href="GUI.GUIFeaturesPart8Paper.html#7116" class="Bound">F</a> <a id="7153" href="GUI.GUIFeaturesPart8Paper.html#7118" class="Bound">B</a> <a id="7155" href="GUI.GUIFeaturesPart8Paper.html#7120" class="Bound">S&#39;</a><a id="7157" class="Symbol">)</a>
                            <a id="7187" class="Symbol">(</a><a id="7188" href="GUI.GUIFeaturesPart8Paper.html#7188" class="Bound">new</a> <a id="7192" class="Symbol">:</a> <a id="7194" href="GUI.GUIFeaturesPart2Paper.html#812" class="Record">MachineState</a> <a id="7207" class="Symbol">(</a><a id="7208" href="GUI.GUIFeaturesPart8Paper.html#7118" class="Bound">B</a> <a id="7210" href="Data.Sum.Base.html#414" class="Datatype Operator">⊎</a> <a id="7212" class="Symbol">(</a><a id="7213" href="GUI.GUIFeaturesPart8Paper.html#7120" class="Bound">S&#39;</a> <a id="7216" href="Data.Sum.Base.html#414" class="Datatype Operator">⊎</a> <a id="7218" href="Agda.Builtin.Unit.html#69" class="Record">Void</a><a id="7222" class="Symbol">)))</a>
                            <a id="7254" class="Symbol">→</a> <a id="7256" href="GUI.GUIFeaturesPart8Paper.html#5310" class="Function">FeatureMachine</a> <a id="7271" href="GUI.GUIFeaturesPart8Paper.html#7116" class="Bound">F</a> <a id="7273" href="GUI.GUIFeaturesPart8Paper.html#7118" class="Bound">B</a> <a id="7275" class="Symbol">(</a><a id="7276" href="GUI.GUIFeaturesPart8Paper.html#7120" class="Bound">S&#39;</a> <a id="7279" href="Data.Sum.Base.html#414" class="Datatype Operator">⊎</a> <a id="7281" href="Agda.Builtin.Unit.html#69" class="Record">Void</a><a id="7285" class="Symbol">)</a>
<a id="7287" href="GUI.GUIFeaturesPart8Paper.html#7088" class="Function">addStateToFeatureMachine</a> <a id="7312" href="GUI.GUIFeaturesPart8Paper.html#7312" class="Bound">fm</a> <a id="7315" href="GUI.GUIFeaturesPart8Paper.html#7315" class="Bound">new</a> <a id="7319" href="GUI.GUIFeaturesPart8Paper.html#7319" class="Bound">f</a> <a id="7321" class="Symbol">=</a> <a id="7323" href="GUI.GUIFeaturesPart8Paper.html#4175" class="Function">extendSMachFixedState</a> <a id="7345" class="Symbol">(</a><a id="7346" href="GUI.GUIFeaturesPart8Paper.html#7312" class="Bound">fm</a> <a id="7349" href="GUI.GUIFeaturesPart8Paper.html#7319" class="Bound">f</a><a id="7350" class="Symbol">)</a> <a id="7352" class="Symbol">(λ</a> <a id="7355" href="GUI.GUIFeaturesPart8Paper.html#7355" class="Bound">_</a> <a id="7357" class="Symbol">→</a> <a id="7359" href="GUI.GUIFeaturesPart8Paper.html#7315" class="Bound">new</a><a id="7362" class="Symbol">)</a>


<a id="adaptFeatureMachine"></a><a id="7366" href="GUI.GUIFeaturesPart8Paper.html#7366" class="Function">adaptFeatureMachine</a> <a id="7386" class="Symbol">:</a> <a id="7388" class="Symbol">{</a><a id="7389" href="GUI.GUIFeaturesPart8Paper.html#7389" class="Bound">F</a> <a id="7391" href="GUI.GUIFeaturesPart8Paper.html#7391" class="Bound">F&#39;</a> <a id="7394" class="Symbol">:</a> <a id="7396" class="PrimitiveType">Set</a><a id="7399" class="Symbol">}(</a><a id="7401" href="GUI.GUIFeaturesPart8Paper.html#7401" class="Bound">f&#39;f</a> <a id="7405" class="Symbol">:</a> <a id="7407" href="GUI.GUIFeaturesPart8Paper.html#7391" class="Bound">F&#39;</a> <a id="7410" class="Symbol">→</a>  <a id="7413" href="GUI.GUIFeaturesPart8Paper.html#7389" class="Bound">F</a><a id="7414" class="Symbol">)</a>
                     <a id="7437" class="Symbol">{</a><a id="7438" href="GUI.GUIFeaturesPart8Paper.html#7438" class="Bound">S</a> <a id="7440" class="Symbol">:</a> <a id="7442" class="PrimitiveType">Set</a><a id="7445" class="Symbol">}</a>
                     <a id="7468" class="Symbol">(</a><a id="7469" href="GUI.GUIFeaturesPart8Paper.html#7469" class="Bound">fm</a> <a id="7472" class="Symbol">:</a> <a id="7474" href="GUI.GUIFeaturesPart8Paper.html#5071" class="Function">FeatureMachineNaive</a> <a id="7494" href="GUI.GUIFeaturesPart8Paper.html#7389" class="Bound">F</a> <a id="7496" href="GUI.GUIFeaturesPart8Paper.html#7438" class="Bound">S</a><a id="7497" class="Symbol">)</a>
                     <a id="7520" class="Symbol">→</a> <a id="7522" href="GUI.GUIFeaturesPart8Paper.html#5071" class="Function">FeatureMachineNaive</a> <a id="7542" href="GUI.GUIFeaturesPart8Paper.html#7391" class="Bound">F&#39;</a> <a id="7545" href="GUI.GUIFeaturesPart8Paper.html#7438" class="Bound">S</a>
<a id="7547" href="GUI.GUIFeaturesPart8Paper.html#7366" class="Function">adaptFeatureMachine</a> <a id="7567" href="GUI.GUIFeaturesPart8Paper.html#7567" class="Bound">f&#39;f</a> <a id="7571" href="GUI.GUIFeaturesPart8Paper.html#7571" class="Bound">fm</a> <a id="7574" href="GUI.GUIFeaturesPart8Paper.html#7574" class="Bound">f&#39;</a> <a id="7577" class="Symbol">=</a> <a id="7579" href="GUI.GUIFeaturesPart8Paper.html#7571" class="Bound">fm</a> <a id="7582" class="Symbol">(</a><a id="7583" href="GUI.GUIFeaturesPart8Paper.html#7567" class="Bound">f&#39;f</a> <a id="7587" href="GUI.GUIFeaturesPart8Paper.html#7574" class="Bound">f&#39;</a><a id="7589" class="Symbol">)</a>


<a id="extendFeatureFMachineNaive"></a><a id="7593" href="GUI.GUIFeaturesPart8Paper.html#7593" class="Function">extendFeatureFMachineNaive</a> <a id="7620" class="Symbol">:</a> <a id="7622" class="Symbol">{</a><a id="7623" href="GUI.GUIFeaturesPart8Paper.html#7623" class="Bound">F</a> <a id="7625" href="GUI.GUIFeaturesPart8Paper.html#7625" class="Bound">F&#39;</a> <a id="7628" class="Symbol">:</a> <a id="7630" class="PrimitiveType">Set</a><a id="7633" class="Symbol">}{</a><a id="7635" href="GUI.GUIFeaturesPart8Paper.html#7635" class="Bound">S</a> <a id="7637" class="Symbol">:</a> <a id="7639" class="PrimitiveType">Set</a><a id="7642" class="Symbol">}</a>
                     <a id="7665" class="Symbol">(</a><a id="7666" href="GUI.GUIFeaturesPart8Paper.html#7666" class="Bound">fm</a> <a id="7669" class="Symbol">:</a> <a id="7671" href="GUI.GUIFeaturesPart8Paper.html#5071" class="Function">FeatureMachineNaive</a> <a id="7691" href="GUI.GUIFeaturesPart8Paper.html#7623" class="Bound">F</a> <a id="7693" href="GUI.GUIFeaturesPart8Paper.html#7635" class="Bound">S</a><a id="7694" class="Symbol">)</a>
                      <a id="7718" class="Symbol">→</a> <a id="7720" href="GUI.GUIFeaturesPart8Paper.html#5071" class="Function">FeatureMachineNaive</a> <a id="7740" class="Symbol">(</a><a id="7741" href="GUI.GUIFeaturesPart8Paper.html#7623" class="Bound">F</a> <a id="7743" href="Data.Product.html#1329" class="Function Operator">×</a> <a id="7745" href="GUI.GUIFeaturesPart8Paper.html#7625" class="Bound">F&#39;</a><a id="7747" class="Symbol">)</a> <a id="7749" href="GUI.GUIFeaturesPart8Paper.html#7635" class="Bound">S</a>
<a id="7751" href="GUI.GUIFeaturesPart8Paper.html#7593" class="Function">extendFeatureFMachineNaive</a> <a id="7778" href="GUI.GUIFeaturesPart8Paper.html#7778" class="Bound">fm</a> <a id="7781" class="Symbol">=</a> <a id="7783" href="GUI.GUIFeaturesPart8Paper.html#7366" class="Function">adaptFeatureMachine</a> <a id="7803" href="Data.Product.html#559" class="Field">proj₁</a> <a id="7809" href="GUI.GUIFeaturesPart8Paper.html#7778" class="Bound">fm</a>


<a id="7814" class="Comment">-- \GUIFeaturesPartEightPaper</a>
<a id="addFeatureToFeatureMachine"></a><a id="7844" href="GUI.GUIFeaturesPart8Paper.html#7844" class="Function">addFeatureToFeatureMachine</a> <a id="7871" class="Symbol">:</a> <a id="7873" class="Symbol">{</a><a id="7874" href="GUI.GUIFeaturesPart8Paper.html#7874" class="Bound">F</a> <a id="7876" href="GUI.GUIFeaturesPart8Paper.html#7876" class="Bound">B</a> <a id="7878" href="GUI.GUIFeaturesPart8Paper.html#7878" class="Bound">F&#39;</a> <a id="7881" href="GUI.GUIFeaturesPart8Paper.html#7881" class="Bound">S</a> <a id="7883" class="Symbol">:</a> <a id="7885" class="PrimitiveType">Set</a><a id="7888" class="Symbol">}</a>
                              <a id="7920" class="Symbol">(</a><a id="7921" href="GUI.GUIFeaturesPart8Paper.html#7921" class="Bound">fm</a> <a id="7924" class="Symbol">:</a> <a id="7926" href="GUI.GUIFeaturesPart8Paper.html#5310" class="Function">FeatureMachine</a> <a id="7941" href="GUI.GUIFeaturesPart8Paper.html#7874" class="Bound">F</a> <a id="7943" href="GUI.GUIFeaturesPart8Paper.html#7876" class="Bound">B</a> <a id="7945" href="GUI.GUIFeaturesPart8Paper.html#7881" class="Bound">S</a><a id="7946" class="Symbol">)</a>
                              <a id="7978" class="Symbol">→</a> <a id="7980" href="GUI.GUIFeaturesPart8Paper.html#5310" class="Function">FeatureMachine</a> <a id="7995" class="Symbol">(</a><a id="7996" href="GUI.GUIFeaturesPart8Paper.html#7874" class="Bound">F</a> <a id="7998" href="Data.Product.html#1329" class="Function Operator">×</a> <a id="8000" href="GUI.GUIFeaturesPart8Paper.html#7878" class="Bound">F&#39;</a><a id="8002" class="Symbol">)</a> <a id="8004" href="GUI.GUIFeaturesPart8Paper.html#7876" class="Bound">B</a> <a id="8006" href="GUI.GUIFeaturesPart8Paper.html#7881" class="Bound">S</a>
<a id="8008" href="GUI.GUIFeaturesPart8Paper.html#7844" class="Function">addFeatureToFeatureMachine</a> <a id="8035" href="GUI.GUIFeaturesPart8Paper.html#8035" class="Bound">fm</a> <a id="8038" class="Symbol">=</a> <a id="8040" href="GUI.GUIFeaturesPart8Paper.html#7366" class="Function">adaptFeatureMachine</a> <a id="8060" href="Data.Product.html#559" class="Field">proj₁</a> <a id="8066" href="GUI.GUIFeaturesPart8Paper.html#8035" class="Bound">fm</a>


<a id="8071" class="Keyword">data</a> <a id="StatesBasicVM"></a><a id="8076" href="GUI.GUIFeaturesPart8Paper.html#8076" class="Datatype">StatesBasicVM</a> <a id="8090" class="Symbol">:</a> <a id="8092" class="PrimitiveType">Set</a> <a id="8096" class="Keyword">where</a>
  <a id="StatesBasicVM.pay"></a><a id="8104" href="GUI.GUIFeaturesPart8Paper.html#8104" class="InductiveConstructor">pay</a> <a id="StatesBasicVM.change"></a><a id="8108" href="GUI.GUIFeaturesPart8Paper.html#8108" class="InductiveConstructor">change</a> <a id="StatesBasicVM.soda"></a><a id="8115" href="GUI.GUIFeaturesPart8Paper.html#8115" class="InductiveConstructor">soda</a> <a id="StatesBasicVM.serveSoda"></a><a id="8120" href="GUI.GUIFeaturesPart8Paper.html#8120" class="InductiveConstructor">serveSoda</a>  <a id="StatesBasicVM.open&#39;"></a><a id="8131" href="GUI.GUIFeaturesPart8Paper.html#8131" class="InductiveConstructor">open&#39;</a> <a id="StatesBasicVM.close"></a><a id="8137" href="GUI.GUIFeaturesPart8Paper.html#8137" class="InductiveConstructor">close</a> <a id="8143" class="Symbol">:</a> <a id="8145" href="GUI.GUIFeaturesPart8Paper.html#8076" class="Datatype">StatesBasicVM</a>

<a id="basicVM"></a><a id="8160" href="GUI.GUIFeaturesPart8Paper.html#8160" class="Function">basicVM</a> <a id="8168" class="Symbol">:</a> <a id="8170" href="GUI.GUIFeaturesPart8Paper.html#5071" class="Function">FeatureMachineNaive</a> <a id="8190" href="Agda.Builtin.Unit.html#69" class="Record">Void</a> <a id="8195" class="Symbol">(</a><a id="8196" href="GUI.GUIFeaturesPart8Paper.html#8076" class="Datatype">StatesBasicVM</a> <a id="8210" href="Data.Sum.Base.html#414" class="Datatype Operator">⊎</a> <a id="8212" href="Data.Empty.html#243" class="Datatype">∅</a><a id="8213" class="Symbol">)</a>
<a id="8215" href="GUI.GUIFeaturesPart8Paper.html#8160" class="Function">basicVM</a>  <a id="8224" href="GUI.GUIFeaturesPart8Paper.html#8224" class="Bound">f</a> <a id="8226" class="Symbol">(</a><a id="8227" href="Data.Sum.Base.html#470" class="InductiveConstructor">inj₁</a> <a id="8232" href="GUI.GUIFeaturesPart8Paper.html#8104" class="InductiveConstructor">pay</a><a id="8235" class="Symbol">)</a>        <a id="8244" class="Symbol">=</a>
         <a id="8255" href="GUI.GUIFeaturesPart2Paper.html#1512" class="Function">simpleSMState</a> <a id="8269" class="String">&quot;Pay&quot;</a> <a id="8275" class="Symbol">(</a><a id="8276" href="Data.Sum.Base.html#470" class="InductiveConstructor">inj₁</a> <a id="8281" href="GUI.GUIFeaturesPart8Paper.html#8108" class="InductiveConstructor">change</a><a id="8287" class="Symbol">)</a>
<a id="8289" href="GUI.GUIFeaturesPart8Paper.html#8160" class="Function">basicVM</a>  <a id="8298" href="GUI.GUIFeaturesPart8Paper.html#8298" class="Bound">f</a> <a id="8300" class="Symbol">(</a><a id="8301" href="Data.Sum.Base.html#470" class="InductiveConstructor">inj₁</a> <a id="8306" href="GUI.GUIFeaturesPart8Paper.html#8108" class="InductiveConstructor">change</a><a id="8312" class="Symbol">)</a>     <a id="8318" class="Symbol">=</a>
         <a id="8329" href="GUI.GUIFeaturesPart2Paper.html#1512" class="Function">simpleSMState</a> <a id="8343" class="String">&quot;Get Change&quot;</a> <a id="8356" class="Symbol">(</a><a id="8357" href="Data.Sum.Base.html#470" class="InductiveConstructor">inj₁</a> <a id="8362" href="GUI.GUIFeaturesPart8Paper.html#8115" class="InductiveConstructor">soda</a><a id="8366" class="Symbol">)</a>
<a id="8368" href="GUI.GUIFeaturesPart8Paper.html#8160" class="Function">basicVM</a>  <a id="8377" href="GUI.GUIFeaturesPart8Paper.html#8377" class="Bound">f</a> <a id="8379" class="Symbol">(</a><a id="8380" href="Data.Sum.Base.html#470" class="InductiveConstructor">inj₁</a> <a id="8385" href="GUI.GUIFeaturesPart8Paper.html#8115" class="InductiveConstructor">soda</a><a id="8389" class="Symbol">)</a>       <a id="8397" class="Symbol">=</a>
         <a id="8408" href="GUI.GUIFeaturesPart2Paper.html#1512" class="Function">simpleSMState</a> <a id="8422" class="String">&quot;Soda&quot;</a> <a id="8429" class="Symbol">(</a><a id="8430" href="Data.Sum.Base.html#470" class="InductiveConstructor">inj₁</a> <a id="8435" href="GUI.GUIFeaturesPart8Paper.html#8120" class="InductiveConstructor">serveSoda</a><a id="8444" class="Symbol">)</a> 
<a id="8447" href="GUI.GUIFeaturesPart8Paper.html#8160" class="Function">basicVM</a>  <a id="8456" href="GUI.GUIFeaturesPart8Paper.html#8456" class="Bound">f</a> <a id="8458" class="Symbol">(</a><a id="8459" href="Data.Sum.Base.html#470" class="InductiveConstructor">inj₁</a> <a id="8464" href="GUI.GUIFeaturesPart8Paper.html#8120" class="InductiveConstructor">serveSoda</a><a id="8473" class="Symbol">)</a>  <a id="8476" class="Symbol">=</a>
         <a id="8487" href="GUI.GUIFeaturesPart2Paper.html#1512" class="Function">simpleSMState</a> <a id="8501" class="String">&quot;Serve Soda&quot;</a> <a id="8514" class="Symbol">(</a><a id="8515" href="Data.Sum.Base.html#470" class="InductiveConstructor">inj₁</a> <a id="8520" href="GUI.GUIFeaturesPart8Paper.html#8131" class="InductiveConstructor">open&#39;</a><a id="8525" class="Symbol">)</a>
<a id="8527" href="GUI.GUIFeaturesPart8Paper.html#8160" class="Function">basicVM</a>  <a id="8536" href="GUI.GUIFeaturesPart8Paper.html#8536" class="Bound">f</a> <a id="8538" class="Symbol">(</a><a id="8539" href="Data.Sum.Base.html#470" class="InductiveConstructor">inj₁</a> <a id="8544" href="GUI.GUIFeaturesPart8Paper.html#8131" class="InductiveConstructor">open&#39;</a><a id="8549" class="Symbol">)</a>      <a id="8556" class="Symbol">=</a>
         <a id="8567" href="GUI.GUIFeaturesPart2Paper.html#1512" class="Function">simpleSMState</a> <a id="8581" class="String">&quot;Open&quot;</a> <a id="8588" class="Symbol">(</a><a id="8589" href="Data.Sum.Base.html#470" class="InductiveConstructor">inj₁</a> <a id="8594" href="GUI.GUIFeaturesPart8Paper.html#8137" class="InductiveConstructor">close</a><a id="8599" class="Symbol">)</a>
<a id="8601" href="GUI.GUIFeaturesPart8Paper.html#8160" class="Function">basicVM</a>  <a id="8610" href="GUI.GUIFeaturesPart8Paper.html#8610" class="Bound">f</a> <a id="8612" class="Symbol">(</a><a id="8613" href="Data.Sum.Base.html#470" class="InductiveConstructor">inj₁</a> <a id="8618" href="GUI.GUIFeaturesPart8Paper.html#8137" class="InductiveConstructor">close</a><a id="8623" class="Symbol">)</a>      <a id="8630" class="Symbol">=</a>
         <a id="8641" href="GUI.GUIFeaturesPart2Paper.html#1512" class="Function">simpleSMState</a> <a id="8655" class="String">&quot;Close&quot;</a> <a id="8663" class="Symbol">(</a><a id="8664" href="Data.Sum.Base.html#470" class="InductiveConstructor">inj₁</a> <a id="8669" href="GUI.GUIFeaturesPart8Paper.html#8104" class="InductiveConstructor">pay</a><a id="8672" class="Symbol">)</a> 
<a id="8675" href="GUI.GUIFeaturesPart8Paper.html#8160" class="Function">basicVM</a>  <a id="8684" href="GUI.GUIFeaturesPart8Paper.html#8684" class="Bound">f</a> <a id="8686" class="Symbol">(</a><a id="8687" href="Data.Sum.Base.html#495" class="InductiveConstructor">inj₂</a> <a id="8692" class="Symbol">())</a>

<a id="8697" class="Comment">{- handler for the new state to be added to the tea machine -}</a>
<a id="teaNewStateSM"></a><a id="8760" href="GUI.GUIFeaturesPart8Paper.html#8760" class="Function">teaNewStateSM</a> <a id="8774" class="Symbol">:</a> <a id="8776" class="Symbol">{</a><a id="8777" href="GUI.GUIFeaturesPart8Paper.html#8777" class="Bound">Extra</a> <a id="8783" class="Symbol">:</a> <a id="8785" class="PrimitiveType">Set</a><a id="8788" class="Symbol">}</a>
                <a id="8806" class="Symbol">→</a> <a id="8808" href="GUI.GUIFeaturesPart2Paper.html#812" class="Record">MachineState</a> <a id="8821" class="Symbol">(</a><a id="8822" href="GUI.GUIFeaturesPart8Paper.html#8076" class="Datatype">StatesBasicVM</a> <a id="8836" href="Data.Sum.Base.html#414" class="Datatype Operator">⊎</a> <a id="8838" href="GUI.GUIFeaturesPart8Paper.html#8777" class="Bound">Extra</a> <a id="8844" href="Data.Sum.Base.html#414" class="Datatype Operator">⊎</a> <a id="8846" href="Agda.Builtin.Unit.html#69" class="Record">Void</a><a id="8850" class="Symbol">)</a> <a id="8852" class="Comment">--newState</a>
<a id="8863" href="GUI.GUIFeaturesPart8Paper.html#8760" class="Function">teaNewStateSM</a> <a id="8877" class="Symbol">=</a> <a id="8879" href="GUI.GUIFeaturesPart2Paper.html#1512" class="Function">simpleSMState</a> <a id="8893" class="String">&quot;Serve Tea&quot;</a> <a id="8905" class="Symbol">(</a><a id="8906" href="Data.Sum.Base.html#470" class="InductiveConstructor">inj₁</a> <a id="8911" href="GUI.GUIFeaturesPart8Paper.html#8131" class="InductiveConstructor">open&#39;</a><a id="8916" class="Symbol">)</a>


<a id="8920" class="Comment">{- add the new state to the feature machine -}</a>
<a id="TeaMAddState"></a><a id="8967" href="GUI.GUIFeaturesPart8Paper.html#8967" class="Function">TeaMAddState</a> <a id="8980" class="Symbol">:</a> <a id="8982" class="Symbol">{</a><a id="8983" href="GUI.GUIFeaturesPart8Paper.html#8983" class="Bound">F</a> <a id="8985" class="Symbol">:</a> <a id="8987" class="PrimitiveType">Set</a><a id="8990" class="Symbol">}{</a><a id="8992" href="GUI.GUIFeaturesPart8Paper.html#8992" class="Bound">S</a> <a id="8994" class="Symbol">:</a> <a id="8996" class="PrimitiveType">Set</a><a id="8999" class="Symbol">}(</a><a id="9001" href="GUI.GUIFeaturesPart8Paper.html#9001" class="Bound">fm</a> <a id="9004" class="Symbol">:</a>  <a id="9007" href="GUI.GUIFeaturesPart8Paper.html#5071" class="Function">FeatureMachineNaive</a> <a id="9027" href="GUI.GUIFeaturesPart8Paper.html#8983" class="Bound">F</a> <a id="9029" class="Symbol">(</a><a id="9030" href="GUI.GUIFeaturesPart8Paper.html#8076" class="Datatype">StatesBasicVM</a> <a id="9044" href="Data.Sum.Base.html#414" class="Datatype Operator">⊎</a> <a id="9046" href="GUI.GUIFeaturesPart8Paper.html#8992" class="Bound">S</a><a id="9047" class="Symbol">))</a>
                         <a id="9075" class="Symbol">→</a> <a id="9077" href="GUI.GUIFeaturesPart8Paper.html#5071" class="Function">FeatureMachineNaive</a> <a id="9097" href="GUI.GUIFeaturesPart8Paper.html#8983" class="Bound">F</a> <a id="9099" class="Symbol">(</a><a id="9100" href="GUI.GUIFeaturesPart8Paper.html#8076" class="Datatype">StatesBasicVM</a> <a id="9114" href="Data.Sum.Base.html#414" class="Datatype Operator">⊎</a> <a id="9116" class="Symbol">(</a><a id="9117" href="GUI.GUIFeaturesPart8Paper.html#8992" class="Bound">S</a> <a id="9119" href="Data.Sum.Base.html#414" class="Datatype Operator">⊎</a> <a id="9121" href="Agda.Builtin.Unit.html#69" class="Record">Void</a><a id="9125" class="Symbol">))</a>
<a id="9128" href="GUI.GUIFeaturesPart8Paper.html#8967" class="Function">TeaMAddState</a> <a id="9141" href="GUI.GUIFeaturesPart8Paper.html#9141" class="Bound">fm</a> <a id="9144" class="Symbol">=</a> <a id="9146" href="GUI.GUIFeaturesPart8Paper.html#7088" class="Function">addStateToFeatureMachine</a> <a id="9171" href="GUI.GUIFeaturesPart8Paper.html#9141" class="Bound">fm</a> <a id="9174" href="GUI.GUIFeaturesPart8Paper.html#8760" class="Function">teaNewStateSM</a>


<a id="9190" class="Comment">{- add a dummy feature &quot;FeatureTea&quot; to the feature machine -}</a>
<a id="TeaMAddFeature"></a><a id="9252" href="GUI.GUIFeaturesPart8Paper.html#9252" class="Function">TeaMAddFeature</a> <a id="9267" class="Symbol">:</a> <a id="9269" class="Symbol">{</a><a id="9270" href="GUI.GUIFeaturesPart8Paper.html#9270" class="Bound">F</a> <a id="9272" class="Symbol">:</a> <a id="9274" class="PrimitiveType">Set</a><a id="9277" class="Symbol">}{</a><a id="9279" href="GUI.GUIFeaturesPart8Paper.html#9279" class="Bound">S</a> <a id="9281" class="Symbol">:</a> <a id="9283" class="PrimitiveType">Set</a><a id="9286" class="Symbol">}</a>
                <a id="9304" class="Symbol">(</a><a id="9305" href="GUI.GUIFeaturesPart8Paper.html#9305" class="Bound">fm</a> <a id="9308" class="Symbol">:</a> <a id="9310" href="GUI.GUIFeaturesPart8Paper.html#5071" class="Function">FeatureMachineNaive</a> <a id="9330" href="GUI.GUIFeaturesPart8Paper.html#9270" class="Bound">F</a> <a id="9332" href="GUI.GUIFeaturesPart8Paper.html#9279" class="Bound">S</a><a id="9333" class="Symbol">)</a>
                 <a id="9352" class="Symbol">→</a> <a id="9354" href="GUI.GUIFeaturesPart8Paper.html#5071" class="Function">FeatureMachineNaive</a> <a id="9374" class="Symbol">(</a><a id="9375" href="GUI.GUIFeaturesPart8Paper.html#9270" class="Bound">F</a> <a id="9377" href="Data.Product.html#1329" class="Function Operator">×</a> <a id="9379" href="GUI.GUIFeatures.html#635" class="Datatype">FeatureTea</a><a id="9389" class="Symbol">)</a> <a id="9391" href="GUI.GUIFeaturesPart8Paper.html#9279" class="Bound">S</a>
<a id="9393" href="GUI.GUIFeaturesPart8Paper.html#9252" class="Function">TeaMAddFeature</a> <a id="9408" href="GUI.GUIFeaturesPart8Paper.html#9408" class="Bound">fm</a> <a id="9411" class="Symbol">=</a> <a id="9413" href="GUI.GUIFeaturesPart8Paper.html#7593" class="Function">extendFeatureFMachineNaive</a> <a id="9440" href="GUI.GUIFeaturesPart8Paper.html#9408" class="Bound">fm</a>

<a id="TeaMAdaptFeature"></a><a id="9444" href="GUI.GUIFeaturesPart8Paper.html#9444" class="Function">TeaMAdaptFeature</a> <a id="9461" class="Symbol">:</a> <a id="9463" class="Symbol">{</a><a id="9464" href="GUI.GUIFeaturesPart8Paper.html#9464" class="Bound">F</a> <a id="9466" class="Symbol">:</a> <a id="9468" class="PrimitiveType">Set</a><a id="9471" class="Symbol">}{</a><a id="9473" href="GUI.GUIFeaturesPart8Paper.html#9473" class="Bound">S</a> <a id="9475" class="Symbol">:</a> <a id="9477" class="PrimitiveType">Set</a><a id="9480" class="Symbol">}</a>
                    <a id="9502" class="Symbol">(</a><a id="9503" href="GUI.GUIFeaturesPart8Paper.html#9503" class="Bound">fm</a> <a id="9506" class="Symbol">:</a> <a id="9508" href="GUI.GUIFeaturesPart8Paper.html#5071" class="Function">FeatureMachineNaive</a> <a id="9528" class="Symbol">(</a><a id="9529" href="GUI.GUIFeaturesPart8Paper.html#9464" class="Bound">F</a> <a id="9531" href="Data.Product.html#1329" class="Function Operator">×</a> <a id="9533" href="GUI.GUIFeatures.html#635" class="Datatype">FeatureTea</a><a id="9543" class="Symbol">)</a> <a id="9545" class="Symbol">(</a><a id="9546" href="GUI.GUIFeaturesPart8Paper.html#8076" class="Datatype">StatesBasicVM</a> <a id="9560" href="Data.Sum.Base.html#414" class="Datatype Operator">⊎</a> <a id="9562" class="Symbol">(</a><a id="9563" href="GUI.GUIFeaturesPart8Paper.html#9473" class="Bound">S</a> <a id="9565" href="Data.Sum.Base.html#414" class="Datatype Operator">⊎</a> <a id="9567" href="Agda.Builtin.Unit.html#69" class="Record">Void</a><a id="9571" class="Symbol">)))</a>
                     <a id="9596" class="Symbol">→</a>  <a id="9599" href="GUI.GUIFeaturesPart8Paper.html#5071" class="Function">FeatureMachineNaive</a> <a id="9619" class="Symbol">(</a><a id="9620" href="GUI.GUIFeaturesPart8Paper.html#9464" class="Bound">F</a> <a id="9622" href="Data.Product.html#1329" class="Function Operator">×</a> <a id="9624" href="GUI.GUIFeatures.html#635" class="Datatype">FeatureTea</a><a id="9634" class="Symbol">)</a> <a id="9636" class="Symbol">(</a><a id="9637" href="GUI.GUIFeaturesPart8Paper.html#8076" class="Datatype">StatesBasicVM</a> <a id="9651" href="Data.Sum.Base.html#414" class="Datatype Operator">⊎</a> <a id="9653" class="Symbol">(</a><a id="9654" href="GUI.GUIFeaturesPart8Paper.html#9473" class="Bound">S</a> <a id="9656" href="Data.Sum.Base.html#414" class="Datatype Operator">⊎</a> <a id="9658" href="Agda.Builtin.Unit.html#69" class="Record">Void</a><a id="9662" class="Symbol">))</a>
<a id="9665" href="GUI.GUIFeaturesPart8Paper.html#9444" class="Function">TeaMAdaptFeature</a> <a id="9682" href="GUI.GUIFeaturesPart8Paper.html#9682" class="Bound">fm</a> <a id="9685" class="Symbol">(</a><a id="9686" href="GUI.GUIFeaturesPart8Paper.html#9686" class="Bound">f</a> <a id="9688" href="Data.Product.html#543" class="InductiveConstructor Operator">,</a> <a id="9690" href="GUI.GUIFeatures.html#660" class="InductiveConstructor">yesTea</a><a id="9696" class="Symbol">)</a> <a id="9698" class="Symbol">(</a><a id="9699" href="Data.Sum.Base.html#470" class="InductiveConstructor">inj₁</a> <a id="9704" href="GUI.GUIFeaturesPart8Paper.html#8115" class="InductiveConstructor">soda</a><a id="9708" class="Symbol">)</a> <a id="9710" class="Symbol">=</a>
       <a id="9719" href="GUI.GUIFeaturesPart2Paper.html#1752" class="Function">addBtn2StateMachine</a>  <a id="9740" class="Symbol">(</a><a id="9741" href="GUI.GUIFeaturesPart8Paper.html#9682" class="Bound">fm</a> <a id="9744" class="Symbol">(</a><a id="9745" href="GUI.GUIFeaturesPart8Paper.html#9686" class="Bound">f</a> <a id="9747" href="Data.Product.html#543" class="InductiveConstructor Operator">,</a> <a id="9749" href="GUI.GUIFeatures.html#660" class="InductiveConstructor">yesTea</a><a id="9755" class="Symbol">)</a> <a id="9757" class="Symbol">(</a><a id="9758" href="Data.Sum.Base.html#470" class="InductiveConstructor">inj₁</a> <a id="9763" href="GUI.GUIFeaturesPart8Paper.html#8115" class="InductiveConstructor">soda</a><a id="9767" class="Symbol">))</a> <a id="9770" class="String">&quot;Tea&quot;</a> <a id="9776" href="GUI.GUIFeaturesPart8Paper.html#1861" class="Function">newState</a>
<a id="9785" href="GUI.GUIFeaturesPart8Paper.html#9444" class="CatchallClause Function">TeaMAdaptFeature</a><a id="9801" class="CatchallClause"> </a><a id="9802" href="GUI.GUIFeaturesPart8Paper.html#9802" class="CatchallClause Bound">fm</a><a id="9804" class="CatchallClause"> </a><a id="9805" href="GUI.GUIFeaturesPart8Paper.html#9805" class="CatchallClause Bound">f</a><a id="9806" class="CatchallClause"> </a><a id="9807" href="GUI.GUIFeaturesPart8Paper.html#9807" class="CatchallClause Bound">s</a> <a id="9809" class="Symbol">=</a> <a id="9811" href="GUI.GUIFeaturesPart8Paper.html#9802" class="Bound">fm</a> <a id="9814" href="GUI.GUIFeaturesPart8Paper.html#9805" class="Bound">f</a> <a id="9816" href="GUI.GUIFeaturesPart8Paper.html#9807" class="Bound">s</a>


<a id="Tea"></a><a id="9820" href="GUI.GUIFeaturesPart8Paper.html#9820" class="Function">Tea</a> <a id="9824" class="Symbol">:</a> <a id="9826" class="Symbol">{</a><a id="9827" href="GUI.GUIFeaturesPart8Paper.html#9827" class="Bound">F</a> <a id="9829" class="Symbol">:</a> <a id="9831" class="PrimitiveType">Set</a><a id="9834" class="Symbol">}{</a><a id="9836" href="GUI.GUIFeaturesPart8Paper.html#9836" class="Bound">S</a> <a id="9838" class="Symbol">:</a> <a id="9840" class="PrimitiveType">Set</a><a id="9843" class="Symbol">}</a>
      <a id="9851" class="Symbol">(</a><a id="9852" href="GUI.GUIFeaturesPart8Paper.html#9852" class="Bound">fm</a> <a id="9855" class="Symbol">:</a> <a id="9857" href="GUI.GUIFeaturesPart8Paper.html#5071" class="Function">FeatureMachineNaive</a> <a id="9877" href="GUI.GUIFeaturesPart8Paper.html#9827" class="Bound">F</a> <a id="9879" class="Symbol">(</a><a id="9880" href="GUI.GUIFeaturesPart8Paper.html#8076" class="Datatype">StatesBasicVM</a> <a id="9894" href="Data.Sum.Base.html#414" class="Datatype Operator">⊎</a> <a id="9896" href="GUI.GUIFeaturesPart8Paper.html#9836" class="Bound">S</a><a id="9897" class="Symbol">))</a>
      <a id="9906" class="Symbol">→</a> <a id="9908" href="GUI.GUIFeaturesPart8Paper.html#5071" class="Function">FeatureMachineNaive</a> <a id="9928" class="Symbol">(</a><a id="9929" href="GUI.GUIFeaturesPart8Paper.html#9827" class="Bound">F</a> <a id="9931" href="Data.Product.html#1329" class="Function Operator">×</a> <a id="9933" href="GUI.GUIFeatures.html#635" class="Datatype">FeatureTea</a><a id="9943" class="Symbol">)</a> <a id="9945" class="Symbol">(</a><a id="9946" href="GUI.GUIFeaturesPart8Paper.html#8076" class="Datatype">StatesBasicVM</a> <a id="9960" href="Data.Sum.Base.html#414" class="Datatype Operator">⊎</a> <a id="9962" class="Symbol">(</a><a id="9963" href="GUI.GUIFeaturesPart8Paper.html#9836" class="Bound">S</a> <a id="9965" href="Data.Sum.Base.html#414" class="Datatype Operator">⊎</a> <a id="9967" href="Agda.Builtin.Unit.html#69" class="Record">Void</a><a id="9971" class="Symbol">))</a>
<a id="9974" href="GUI.GUIFeaturesPart8Paper.html#9820" class="Function">Tea</a> <a id="9978" href="GUI.GUIFeaturesPart8Paper.html#9978" class="Bound">fm</a> <a id="9981" class="Symbol">=</a> <a id="9983" href="GUI.GUIFeaturesPart8Paper.html#9444" class="Function">TeaMAdaptFeature</a>    <a id="10003" class="Symbol">(</a><a id="10004" href="GUI.GUIFeaturesPart8Paper.html#9252" class="Function">TeaMAddFeature</a> <a id="10019" class="Symbol">(</a><a id="10020" href="GUI.GUIFeaturesPart8Paper.html#8967" class="Function">TeaMAddState</a> <a id="10033" href="GUI.GUIFeaturesPart8Paper.html#9978" class="Bound">fm</a><a id="10035" class="Symbol">))</a>


<a id="10040" class="Comment">-- example</a>
<a id="teaMachine"></a><a id="10051" href="GUI.GUIFeaturesPart8Paper.html#10051" class="Function">teaMachine</a> <a id="10062" class="Symbol">:</a> <a id="10064" href="GUI.GUIFeaturesPart8Paper.html#5071" class="Function">FeatureMachineNaive</a> <a id="10084" class="Symbol">(</a><a id="10085" href="Agda.Builtin.Unit.html#69" class="Record">Void</a> <a id="10090" href="Data.Product.html#1329" class="Function Operator">×</a> <a id="10092" href="GUI.GUIFeatures.html#635" class="Datatype">FeatureTea</a><a id="10102" class="Symbol">)</a> <a id="10104" class="Symbol">(</a><a id="10105" href="GUI.GUIFeaturesPart8Paper.html#8076" class="Datatype">StatesBasicVM</a> <a id="10119" href="Data.Sum.Base.html#414" class="Datatype Operator">⊎</a> <a id="10121" href="Data.Empty.html#243" class="Datatype">∅</a> <a id="10123" href="Data.Sum.Base.html#414" class="Datatype Operator">⊎</a> <a id="10125" href="Agda.Builtin.Unit.html#69" class="Record">Void</a><a id="10129" class="Symbol">)</a>
<a id="10131" href="GUI.GUIFeaturesPart8Paper.html#10051" class="Function">teaMachine</a> <a id="10142" class="Symbol">=</a> <a id="10144" href="GUI.GUIFeaturesPart8Paper.html#9820" class="Function">Tea</a> <a id="10148" href="GUI.GUIFeaturesPart8Paper.html#8160" class="Function">basicVM</a>


<a id="10158" class="Comment">{- handler for the new state to be added to the cancel machine -}</a>
<a id="cancelNewStateSM"></a><a id="10224" href="GUI.GUIFeaturesPart8Paper.html#10224" class="Function">cancelNewStateSM</a> <a id="10241" class="Symbol">:</a> <a id="10243" class="Symbol">{</a><a id="10244" href="GUI.GUIFeaturesPart8Paper.html#10244" class="Bound">Extra</a> <a id="10250" class="Symbol">:</a> <a id="10252" class="PrimitiveType">Set</a><a id="10255" class="Symbol">}</a>
                <a id="10273" class="Symbol">→</a> <a id="10275" href="GUI.GUIFeaturesPart2Paper.html#812" class="Record">MachineState</a> <a id="10288" class="Symbol">(</a><a id="10289" href="GUI.GUIFeaturesPart8Paper.html#8076" class="Datatype">StatesBasicVM</a> <a id="10303" href="Data.Sum.Base.html#414" class="Datatype Operator">⊎</a> <a id="10305" href="GUI.GUIFeaturesPart8Paper.html#10244" class="Bound">Extra</a> <a id="10311" href="Data.Sum.Base.html#414" class="Datatype Operator">⊎</a> <a id="10313" href="Agda.Builtin.Unit.html#69" class="Record">Void</a><a id="10317" class="Symbol">)</a> <a id="10319" class="Comment">-- newState</a>
<a id="10331" href="GUI.GUIFeaturesPart8Paper.html#10224" class="Function">cancelNewStateSM</a> <a id="10348" class="Symbol">=</a> <a id="10350" href="GUI.GUIFeaturesPart2Paper.html#1512" class="Function">simpleSMState</a> <a id="10364" class="String">&quot;Cancelling&quot;</a> <a id="10377" class="Symbol">(</a><a id="10378" href="Data.Sum.Base.html#470" class="InductiveConstructor">inj₁</a> <a id="10383" href="GUI.GUIFeaturesPart8Paper.html#8104" class="InductiveConstructor">pay</a><a id="10386" class="Symbol">)</a>


<a id="10390" class="Comment">{- add the new state to the feature machine -}</a>
<a id="CancelMAddState"></a><a id="10437" href="GUI.GUIFeaturesPart8Paper.html#10437" class="Function">CancelMAddState</a> <a id="10453" class="Symbol">:</a> <a id="10455" class="Symbol">{</a><a id="10456" href="GUI.GUIFeaturesPart8Paper.html#10456" class="Bound">F</a> <a id="10458" class="Symbol">:</a> <a id="10460" class="PrimitiveType">Set</a><a id="10463" class="Symbol">}{</a><a id="10465" href="GUI.GUIFeaturesPart8Paper.html#10465" class="Bound">S</a> <a id="10467" class="Symbol">:</a> <a id="10469" class="PrimitiveType">Set</a><a id="10472" class="Symbol">}(</a><a id="10474" href="GUI.GUIFeaturesPart8Paper.html#10474" class="Bound">fm</a> <a id="10477" class="Symbol">:</a>  <a id="10480" href="GUI.GUIFeaturesPart8Paper.html#5071" class="Function">FeatureMachineNaive</a> <a id="10500" href="GUI.GUIFeaturesPart8Paper.html#10456" class="Bound">F</a> <a id="10502" class="Symbol">(</a><a id="10503" href="GUI.GUIFeaturesPart8Paper.html#8076" class="Datatype">StatesBasicVM</a> <a id="10517" href="Data.Sum.Base.html#414" class="Datatype Operator">⊎</a> <a id="10519" href="GUI.GUIFeaturesPart8Paper.html#10465" class="Bound">S</a><a id="10520" class="Symbol">))</a>
                         <a id="10548" class="Symbol">→</a> <a id="10550" href="GUI.GUIFeaturesPart8Paper.html#5071" class="Function">FeatureMachineNaive</a> <a id="10570" href="GUI.GUIFeaturesPart8Paper.html#10456" class="Bound">F</a> <a id="10572" class="Symbol">(</a><a id="10573" href="GUI.GUIFeaturesPart8Paper.html#8076" class="Datatype">StatesBasicVM</a> <a id="10587" href="Data.Sum.Base.html#414" class="Datatype Operator">⊎</a> <a id="10589" class="Symbol">(</a><a id="10590" href="GUI.GUIFeaturesPart8Paper.html#10465" class="Bound">S</a> <a id="10592" href="Data.Sum.Base.html#414" class="Datatype Operator">⊎</a> <a id="10594" href="Agda.Builtin.Unit.html#69" class="Record">Void</a><a id="10598" class="Symbol">))</a>
<a id="10601" href="GUI.GUIFeaturesPart8Paper.html#10437" class="Function">CancelMAddState</a> <a id="10617" href="GUI.GUIFeaturesPart8Paper.html#10617" class="Bound">fm</a> <a id="10620" class="Symbol">=</a> <a id="10622" href="GUI.GUIFeaturesPart8Paper.html#7088" class="Function">addStateToFeatureMachine</a> <a id="10647" href="GUI.GUIFeaturesPart8Paper.html#10617" class="Bound">fm</a> <a id="10650" href="GUI.GUIFeaturesPart8Paper.html#10224" class="Function">cancelNewStateSM</a>


<a id="10669" class="Comment">{- add a dummy feature &quot;FeatureCancel&quot; to the feature machine -}</a>
<a id="CancelMAddFeature"></a><a id="10734" href="GUI.GUIFeaturesPart8Paper.html#10734" class="Function">CancelMAddFeature</a> <a id="10752" class="Symbol">:</a> <a id="10754" class="Symbol">{</a><a id="10755" href="GUI.GUIFeaturesPart8Paper.html#10755" class="Bound">F</a> <a id="10757" class="Symbol">:</a> <a id="10759" class="PrimitiveType">Set</a><a id="10762" class="Symbol">}{</a><a id="10764" href="GUI.GUIFeaturesPart8Paper.html#10764" class="Bound">S</a> <a id="10766" class="Symbol">:</a> <a id="10768" class="PrimitiveType">Set</a><a id="10771" class="Symbol">}</a>
                <a id="10789" class="Symbol">(</a><a id="10790" href="GUI.GUIFeaturesPart8Paper.html#10790" class="Bound">fm</a> <a id="10793" class="Symbol">:</a> <a id="10795" href="GUI.GUIFeaturesPart8Paper.html#5071" class="Function">FeatureMachineNaive</a> <a id="10815" href="GUI.GUIFeaturesPart8Paper.html#10755" class="Bound">F</a> <a id="10817" href="GUI.GUIFeaturesPart8Paper.html#10764" class="Bound">S</a><a id="10818" class="Symbol">)</a>
                 <a id="10837" class="Symbol">→</a> <a id="10839" href="GUI.GUIFeaturesPart8Paper.html#5071" class="Function">FeatureMachineNaive</a> <a id="10859" class="Symbol">(</a><a id="10860" href="GUI.GUIFeaturesPart8Paper.html#10755" class="Bound">F</a> <a id="10862" href="Data.Product.html#1329" class="Function Operator">×</a> <a id="10864" href="GUI.GUIFeatures.html#753" class="Datatype">FeatureCancel</a><a id="10877" class="Symbol">)</a> <a id="10879" href="GUI.GUIFeaturesPart8Paper.html#10764" class="Bound">S</a>
<a id="10881" href="GUI.GUIFeaturesPart8Paper.html#10734" class="Function">CancelMAddFeature</a> <a id="10899" href="GUI.GUIFeaturesPart8Paper.html#10899" class="Bound">fm</a> <a id="10902" class="Symbol">=</a> <a id="10904" href="GUI.GUIFeaturesPart8Paper.html#7593" class="Function">extendFeatureFMachineNaive</a> <a id="10931" href="GUI.GUIFeaturesPart8Paper.html#10899" class="Bound">fm</a>

<a id="CancelMAdaptFeature"></a><a id="10935" href="GUI.GUIFeaturesPart8Paper.html#10935" class="Function">CancelMAdaptFeature</a> <a id="10955" class="Symbol">:</a> <a id="10957" class="Symbol">{</a><a id="10958" href="GUI.GUIFeaturesPart8Paper.html#10958" class="Bound">F</a> <a id="10960" class="Symbol">:</a> <a id="10962" class="PrimitiveType">Set</a><a id="10965" class="Symbol">}{</a><a id="10967" href="GUI.GUIFeaturesPart8Paper.html#10967" class="Bound">S</a> <a id="10969" class="Symbol">:</a> <a id="10971" class="PrimitiveType">Set</a><a id="10974" class="Symbol">}</a>
                    <a id="10996" class="Symbol">(</a><a id="10997" href="GUI.GUIFeaturesPart8Paper.html#10997" class="Bound">fm</a> <a id="11000" class="Symbol">:</a> <a id="11002" href="GUI.GUIFeaturesPart8Paper.html#5071" class="Function">FeatureMachineNaive</a> <a id="11022" class="Symbol">(</a><a id="11023" href="GUI.GUIFeaturesPart8Paper.html#10958" class="Bound">F</a> <a id="11025" href="Data.Product.html#1329" class="Function Operator">×</a> <a id="11027" href="GUI.GUIFeatures.html#753" class="Datatype">FeatureCancel</a><a id="11040" class="Symbol">)</a> <a id="11042" class="Symbol">(</a><a id="11043" href="GUI.GUIFeaturesPart8Paper.html#8076" class="Datatype">StatesBasicVM</a> <a id="11057" href="Data.Sum.Base.html#414" class="Datatype Operator">⊎</a> <a id="11059" class="Symbol">(</a><a id="11060" href="GUI.GUIFeaturesPart8Paper.html#10967" class="Bound">S</a> <a id="11062" href="Data.Sum.Base.html#414" class="Datatype Operator">⊎</a> <a id="11064" href="Agda.Builtin.Unit.html#69" class="Record">Void</a><a id="11068" class="Symbol">)))</a>
                     <a id="11093" class="Symbol">→</a>  <a id="11096" href="GUI.GUIFeaturesPart8Paper.html#5071" class="Function">FeatureMachineNaive</a> <a id="11116" class="Symbol">(</a><a id="11117" href="GUI.GUIFeaturesPart8Paper.html#10958" class="Bound">F</a> <a id="11119" href="Data.Product.html#1329" class="Function Operator">×</a> <a id="11121" href="GUI.GUIFeatures.html#753" class="Datatype">FeatureCancel</a><a id="11134" class="Symbol">)</a> <a id="11136" class="Symbol">(</a><a id="11137" href="GUI.GUIFeaturesPart8Paper.html#8076" class="Datatype">StatesBasicVM</a> <a id="11151" href="Data.Sum.Base.html#414" class="Datatype Operator">⊎</a> <a id="11153" class="Symbol">(</a><a id="11154" href="GUI.GUIFeaturesPart8Paper.html#10967" class="Bound">S</a> <a id="11156" href="Data.Sum.Base.html#414" class="Datatype Operator">⊎</a> <a id="11158" href="Agda.Builtin.Unit.html#69" class="Record">Void</a><a id="11162" class="Symbol">))</a>
<a id="11165" href="GUI.GUIFeaturesPart8Paper.html#10935" class="Function">CancelMAdaptFeature</a> <a id="11185" href="GUI.GUIFeaturesPart8Paper.html#11185" class="Bound">fm</a> <a id="11188" class="Symbol">(</a><a id="11189" href="GUI.GUIFeaturesPart8Paper.html#11189" class="Bound">f</a> <a id="11191" href="Data.Product.html#543" class="InductiveConstructor Operator">,</a> <a id="11193" href="GUI.GUIFeatures.html#781" class="InductiveConstructor">yesCancel</a><a id="11202" class="Symbol">)</a> <a id="11204" class="Symbol">(</a><a id="11205" href="Data.Sum.Base.html#470" class="InductiveConstructor">inj₁</a> <a id="11210" href="GUI.GUIFeaturesPart8Paper.html#8115" class="InductiveConstructor">soda</a><a id="11214" class="Symbol">)</a> <a id="11216" class="Symbol">=</a>
       <a id="11225" href="GUI.GUIFeaturesPart2Paper.html#1752" class="Function">addBtn2StateMachine</a>  <a id="11246" class="Symbol">(</a><a id="11247" href="GUI.GUIFeaturesPart8Paper.html#11185" class="Bound">fm</a> <a id="11250" class="Symbol">(</a><a id="11251" href="GUI.GUIFeaturesPart8Paper.html#11189" class="Bound">f</a> <a id="11253" href="Data.Product.html#543" class="InductiveConstructor Operator">,</a> <a id="11255" href="GUI.GUIFeatures.html#781" class="InductiveConstructor">yesCancel</a><a id="11264" class="Symbol">)</a> <a id="11266" class="Symbol">(</a><a id="11267" href="Data.Sum.Base.html#470" class="InductiveConstructor">inj₁</a> <a id="11272" href="GUI.GUIFeaturesPart8Paper.html#8115" class="InductiveConstructor">soda</a><a id="11276" class="Symbol">))</a> <a id="11279" class="String">&quot;Cancel&quot;</a> <a id="11288" href="GUI.GUIFeaturesPart8Paper.html#1861" class="Function">newState</a>
<a id="11297" href="GUI.GUIFeaturesPart8Paper.html#10935" class="CatchallClause Function">CancelMAdaptFeature</a><a id="11316" class="CatchallClause"> </a><a id="11317" href="GUI.GUIFeaturesPart8Paper.html#11317" class="CatchallClause Bound">fm</a><a id="11319" class="CatchallClause"> </a><a id="11320" href="GUI.GUIFeaturesPart8Paper.html#11320" class="CatchallClause Bound">f</a><a id="11321" class="CatchallClause"> </a><a id="11322" href="GUI.GUIFeaturesPart8Paper.html#11322" class="CatchallClause Bound">s</a> <a id="11324" class="Symbol">=</a> <a id="11326" href="GUI.GUIFeaturesPart8Paper.html#11317" class="Bound">fm</a> <a id="11329" href="GUI.GUIFeaturesPart8Paper.html#11320" class="Bound">f</a> <a id="11331" href="GUI.GUIFeaturesPart8Paper.html#11322" class="Bound">s</a>


<a id="Cancel"></a><a id="11335" href="GUI.GUIFeaturesPart8Paper.html#11335" class="Function">Cancel</a> <a id="11342" class="Symbol">:</a> <a id="11344" class="Symbol">{</a><a id="11345" href="GUI.GUIFeaturesPart8Paper.html#11345" class="Bound">F</a> <a id="11347" class="Symbol">:</a> <a id="11349" class="PrimitiveType">Set</a><a id="11352" class="Symbol">}{</a><a id="11354" href="GUI.GUIFeaturesPart8Paper.html#11354" class="Bound">S</a> <a id="11356" class="Symbol">:</a> <a id="11358" class="PrimitiveType">Set</a><a id="11361" class="Symbol">}</a>
      <a id="11369" class="Symbol">(</a><a id="11370" href="GUI.GUIFeaturesPart8Paper.html#11370" class="Bound">fm</a> <a id="11373" class="Symbol">:</a> <a id="11375" href="GUI.GUIFeaturesPart8Paper.html#5071" class="Function">FeatureMachineNaive</a> <a id="11395" href="GUI.GUIFeaturesPart8Paper.html#11345" class="Bound">F</a> <a id="11397" class="Symbol">(</a><a id="11398" href="GUI.GUIFeaturesPart8Paper.html#8076" class="Datatype">StatesBasicVM</a> <a id="11412" href="Data.Sum.Base.html#414" class="Datatype Operator">⊎</a> <a id="11414" href="GUI.GUIFeaturesPart8Paper.html#11354" class="Bound">S</a><a id="11415" class="Symbol">))</a>
      <a id="11424" class="Symbol">→</a> <a id="11426" href="GUI.GUIFeaturesPart8Paper.html#5071" class="Function">FeatureMachineNaive</a> <a id="11446" class="Symbol">(</a><a id="11447" href="GUI.GUIFeaturesPart8Paper.html#11345" class="Bound">F</a> <a id="11449" href="Data.Product.html#1329" class="Function Operator">×</a> <a id="11451" href="GUI.GUIFeatures.html#753" class="Datatype">FeatureCancel</a><a id="11464" class="Symbol">)</a> <a id="11466" class="Symbol">(</a><a id="11467" href="GUI.GUIFeaturesPart8Paper.html#8076" class="Datatype">StatesBasicVM</a> <a id="11481" href="Data.Sum.Base.html#414" class="Datatype Operator">⊎</a> <a id="11483" class="Symbol">(</a><a id="11484" href="GUI.GUIFeaturesPart8Paper.html#11354" class="Bound">S</a> <a id="11486" href="Data.Sum.Base.html#414" class="Datatype Operator">⊎</a> <a id="11488" href="Agda.Builtin.Unit.html#69" class="Record">Void</a><a id="11492" class="Symbol">))</a>
<a id="11495" href="GUI.GUIFeaturesPart8Paper.html#11335" class="Function">Cancel</a> <a id="11502" href="GUI.GUIFeaturesPart8Paper.html#11502" class="Bound">fm</a> <a id="11505" class="Symbol">=</a> <a id="11507" href="GUI.GUIFeaturesPart8Paper.html#10935" class="Function">CancelMAdaptFeature</a>    <a id="11530" class="Symbol">(</a><a id="11531" href="GUI.GUIFeaturesPart8Paper.html#10734" class="Function">CancelMAddFeature</a> <a id="11549" class="Symbol">(</a><a id="11550" href="GUI.GUIFeaturesPart8Paper.html#10437" class="Function">CancelMAddState</a> <a id="11566" href="GUI.GUIFeaturesPart8Paper.html#11502" class="Bound">fm</a><a id="11568" class="Symbol">))</a>

<a id="cancelTeaMachine"></a><a id="11572" href="GUI.GUIFeaturesPart8Paper.html#11572" class="Function">cancelTeaMachine</a> <a id="11589" class="Symbol">:</a> <a id="11591" href="GUI.GUIFeaturesPart8Paper.html#5071" class="Function">FeatureMachineNaive</a> <a id="11611" class="Symbol">((</a><a id="11613" href="Agda.Builtin.Unit.html#69" class="Record">Void</a> <a id="11618" href="Data.Product.html#1329" class="Function Operator">×</a> <a id="11620" href="GUI.GUIFeatures.html#635" class="Datatype">FeatureTea</a><a id="11630" class="Symbol">)</a> <a id="11632" href="Data.Product.html#1329" class="Function Operator">×</a> <a id="11634" href="GUI.GUIFeatures.html#753" class="Datatype">FeatureCancel</a><a id="11647" class="Symbol">)</a>
                                        <a id="11689" class="Symbol">(</a><a id="11690" href="GUI.GUIFeaturesPart8Paper.html#8076" class="Datatype">StatesBasicVM</a> <a id="11704" href="Data.Sum.Base.html#414" class="Datatype Operator">⊎</a> <a id="11706" class="Symbol">(</a><a id="11707" href="Data.Empty.html#243" class="Datatype">∅</a> <a id="11709" href="Data.Sum.Base.html#414" class="Datatype Operator">⊎</a> <a id="11711" href="Agda.Builtin.Unit.html#69" class="Record">Void</a><a id="11715" class="Symbol">)</a> <a id="11717" href="Data.Sum.Base.html#414" class="Datatype Operator">⊎</a> <a id="11719" href="Agda.Builtin.Unit.html#69" class="Record">Void</a><a id="11723" class="Symbol">)</a>
<a id="11725" href="GUI.GUIFeaturesPart8Paper.html#11572" class="Function">cancelTeaMachine</a> <a id="11742" class="Symbol">=</a> <a id="11744" href="GUI.GUIFeaturesPart8Paper.html#11335" class="Function">Cancel</a> <a id="11751" class="Symbol">(</a><a id="11752" href="GUI.GUIFeaturesPart8Paper.html#9820" class="Function">Tea</a> <a id="11756" href="GUI.GUIFeaturesPart8Paper.html#8160" class="Function">basicVM</a><a id="11763" class="Symbol">)</a>

<a id="11766" class="Comment">{- add a dummy feature &quot;FeatureFree&quot; to the feature machine -}</a>
<a id="FreeMAddFeature"></a><a id="11829" href="GUI.GUIFeaturesPart8Paper.html#11829" class="Function">FreeMAddFeature</a> <a id="11845" class="Symbol">:</a> <a id="11847" class="Symbol">{</a><a id="11848" href="GUI.GUIFeaturesPart8Paper.html#11848" class="Bound">F</a> <a id="11850" class="Symbol">:</a> <a id="11852" class="PrimitiveType">Set</a><a id="11855" class="Symbol">}{</a><a id="11857" href="GUI.GUIFeaturesPart8Paper.html#11857" class="Bound">S</a> <a id="11859" class="Symbol">:</a> <a id="11861" class="PrimitiveType">Set</a><a id="11864" class="Symbol">}</a>
                 <a id="11883" class="Symbol">(</a><a id="11884" href="GUI.GUIFeaturesPart8Paper.html#11884" class="Bound">fm</a> <a id="11887" class="Symbol">:</a> <a id="11889" href="GUI.GUIFeaturesPart8Paper.html#5071" class="Function">FeatureMachineNaive</a> <a id="11909" href="GUI.GUIFeaturesPart8Paper.html#11848" class="Bound">F</a> <a id="11911" href="GUI.GUIFeaturesPart8Paper.html#11857" class="Bound">S</a><a id="11912" class="Symbol">)</a>
                  <a id="11932" class="Symbol">→</a> <a id="11934" href="GUI.GUIFeaturesPart8Paper.html#5071" class="Function">FeatureMachineNaive</a> <a id="11954" class="Symbol">(</a><a id="11955" href="GUI.GUIFeaturesPart8Paper.html#11848" class="Bound">F</a> <a id="11957" href="Data.Product.html#1329" class="Function Operator">×</a> <a id="11959" href="GUI.GUIFeatures.html#692" class="Datatype">FeatureFree</a><a id="11970" class="Symbol">)</a> <a id="11972" href="GUI.GUIFeaturesPart8Paper.html#11857" class="Bound">S</a>
<a id="11974" href="GUI.GUIFeaturesPart8Paper.html#11829" class="Function">FreeMAddFeature</a> <a id="11990" href="GUI.GUIFeaturesPart8Paper.html#11990" class="Bound">fm</a> <a id="11993" class="Symbol">=</a> <a id="11995" href="GUI.GUIFeaturesPart8Paper.html#7593" class="Function">extendFeatureFMachineNaive</a> <a id="12022" href="GUI.GUIFeaturesPart8Paper.html#11990" class="Bound">fm</a>



<a id="FreeMAdaptFeature"></a><a id="12028" href="GUI.GUIFeaturesPart8Paper.html#12028" class="Function">FreeMAdaptFeature</a> <a id="12046" class="Symbol">:</a> <a id="12048" class="Symbol">{</a><a id="12049" href="GUI.GUIFeaturesPart8Paper.html#12049" class="Bound">F</a> <a id="12051" class="Symbol">:</a> <a id="12053" class="PrimitiveType">Set</a><a id="12056" class="Symbol">}{</a><a id="12058" href="GUI.GUIFeaturesPart8Paper.html#12058" class="Bound">S</a> <a id="12060" class="Symbol">:</a> <a id="12062" class="PrimitiveType">Set</a><a id="12065" class="Symbol">}</a>
                       <a id="12090" class="Symbol">(</a><a id="12091" href="GUI.GUIFeaturesPart8Paper.html#12091" class="Bound">fm</a> <a id="12094" class="Symbol">:</a> <a id="12096" href="GUI.GUIFeaturesPart8Paper.html#5071" class="Function">FeatureMachineNaive</a> <a id="12116" class="Symbol">(</a><a id="12117" href="GUI.GUIFeaturesPart8Paper.html#12049" class="Bound">F</a> <a id="12119" href="Data.Product.html#1329" class="Function Operator">×</a> <a id="12121" href="GUI.GUIFeatures.html#692" class="Datatype">FeatureFree</a><a id="12132" class="Symbol">)</a> <a id="12134" class="Symbol">(</a><a id="12135" href="GUI.GUIFeaturesPart8Paper.html#8076" class="Datatype">StatesBasicVM</a> <a id="12149" href="Data.Sum.Base.html#414" class="Datatype Operator">⊎</a> <a id="12151" href="GUI.GUIFeaturesPart8Paper.html#12058" class="Bound">S</a><a id="12152" class="Symbol">))</a>
                     <a id="12176" class="Symbol">→</a>  <a id="12179" href="GUI.GUIFeaturesPart8Paper.html#5071" class="Function">FeatureMachineNaive</a> <a id="12199" class="Symbol">(</a><a id="12200" href="GUI.GUIFeaturesPart8Paper.html#12049" class="Bound">F</a> <a id="12202" href="Data.Product.html#1329" class="Function Operator">×</a> <a id="12204" href="GUI.GUIFeatures.html#692" class="Datatype">FeatureFree</a><a id="12215" class="Symbol">)</a> <a id="12217" class="Symbol">(</a><a id="12218" href="GUI.GUIFeaturesPart8Paper.html#8076" class="Datatype">StatesBasicVM</a> <a id="12232" href="Data.Sum.Base.html#414" class="Datatype Operator">⊎</a> <a id="12234" href="GUI.GUIFeaturesPart8Paper.html#12058" class="Bound">S</a><a id="12235" class="Symbol">)</a>
<a id="12237" href="GUI.GUIFeaturesPart8Paper.html#12028" class="Function">FreeMAdaptFeature</a> <a id="12255" href="GUI.GUIFeaturesPart8Paper.html#12255" class="Bound">fm</a> <a id="12258" class="Symbol">(</a><a id="12259" href="GUI.GUIFeaturesPart8Paper.html#12259" class="Bound">f</a> <a id="12261" href="Data.Product.html#543" class="InductiveConstructor Operator">,</a> <a id="12263" href="GUI.GUIFeatures.html#718" class="InductiveConstructor">yesFree</a><a id="12270" class="Symbol">)</a> <a id="12272" class="Symbol">(</a><a id="12273" href="Data.Sum.Base.html#470" class="InductiveConstructor">inj₁</a> <a id="12278" href="GUI.GUIFeaturesPart8Paper.html#8104" class="InductiveConstructor">pay</a><a id="12281" class="Symbol">)</a> <a id="12283" class="Symbol">=</a>
       <a id="12292" href="GUI.GUIFeaturesPart2Paper.html#1512" class="Function">simpleSMState</a> <a id="12306" class="String">&quot;Free&quot;</a> <a id="12313" class="Symbol">(</a><a id="12314" href="Data.Sum.Base.html#470" class="InductiveConstructor">inj₁</a> <a id="12319" href="GUI.GUIFeaturesPart8Paper.html#8115" class="InductiveConstructor">soda</a><a id="12323" class="Symbol">)</a>
<a id="12325" href="GUI.GUIFeaturesPart8Paper.html#12028" class="CatchallClause Function">FreeMAdaptFeature</a><a id="12342" class="CatchallClause"> </a><a id="12343" href="GUI.GUIFeaturesPart8Paper.html#12343" class="CatchallClause Bound">fm</a><a id="12345" class="CatchallClause"> </a><a id="12346" href="GUI.GUIFeaturesPart8Paper.html#12346" class="CatchallClause Bound">f</a><a id="12347" class="CatchallClause"> </a><a id="12348" href="GUI.GUIFeaturesPart8Paper.html#12348" class="CatchallClause Bound">s</a> <a id="12350" class="Symbol">=</a> <a id="12352" href="GUI.GUIFeaturesPart8Paper.html#12343" class="Bound">fm</a> <a id="12355" href="GUI.GUIFeaturesPart8Paper.html#12346" class="Bound">f</a> <a id="12357" href="GUI.GUIFeaturesPart8Paper.html#12348" class="Bound">s</a>

<a id="Free"></a><a id="12360" href="GUI.GUIFeaturesPart8Paper.html#12360" class="Function">Free</a> <a id="12365" class="Symbol">:</a> <a id="12367" class="Symbol">{</a><a id="12368" href="GUI.GUIFeaturesPart8Paper.html#12368" class="Bound">F</a> <a id="12370" class="Symbol">:</a> <a id="12372" class="PrimitiveType">Set</a><a id="12375" class="Symbol">}{</a><a id="12377" href="GUI.GUIFeaturesPart8Paper.html#12377" class="Bound">S</a> <a id="12379" class="Symbol">:</a> <a id="12381" class="PrimitiveType">Set</a><a id="12384" class="Symbol">}</a>
      <a id="12392" class="Symbol">(</a><a id="12393" href="GUI.GUIFeaturesPart8Paper.html#12393" class="Bound">fm</a> <a id="12396" class="Symbol">:</a> <a id="12398" href="GUI.GUIFeaturesPart8Paper.html#5071" class="Function">FeatureMachineNaive</a> <a id="12418" href="GUI.GUIFeaturesPart8Paper.html#12368" class="Bound">F</a> <a id="12420" class="Symbol">(</a><a id="12421" href="GUI.GUIFeaturesPart8Paper.html#8076" class="Datatype">StatesBasicVM</a> <a id="12435" href="Data.Sum.Base.html#414" class="Datatype Operator">⊎</a> <a id="12437" href="GUI.GUIFeaturesPart8Paper.html#12377" class="Bound">S</a><a id="12438" class="Symbol">))</a>
      <a id="12447" class="Symbol">→</a> <a id="12449" href="GUI.GUIFeaturesPart8Paper.html#5071" class="Function">FeatureMachineNaive</a> <a id="12469" class="Symbol">(</a><a id="12470" href="GUI.GUIFeaturesPart8Paper.html#12368" class="Bound">F</a> <a id="12472" href="Data.Product.html#1329" class="Function Operator">×</a> <a id="12474" href="GUI.GUIFeatures.html#692" class="Datatype">FeatureFree</a><a id="12485" class="Symbol">)</a> <a id="12487" class="Symbol">(</a><a id="12488" href="GUI.GUIFeaturesPart8Paper.html#8076" class="Datatype">StatesBasicVM</a> <a id="12502" href="Data.Sum.Base.html#414" class="Datatype Operator">⊎</a> <a id="12504" href="GUI.GUIFeaturesPart8Paper.html#12377" class="Bound">S</a><a id="12505" class="Symbol">)</a>
<a id="12507" href="GUI.GUIFeaturesPart8Paper.html#12360" class="Function">Free</a> <a id="12512" href="GUI.GUIFeaturesPart8Paper.html#12512" class="Bound">fm</a> <a id="12515" class="Symbol">=</a> <a id="12517" href="GUI.GUIFeaturesPart8Paper.html#12028" class="Function">FreeMAdaptFeature</a>   <a id="12537" class="Symbol">(</a><a id="12538" href="GUI.GUIFeaturesPart8Paper.html#11829" class="Function">FreeMAddFeature</a> <a id="12554" href="GUI.GUIFeaturesPart8Paper.html#12512" class="Bound">fm</a><a id="12556" class="Symbol">)</a>

<a id="freeCancelTeaMachine"></a><a id="12559" href="GUI.GUIFeaturesPart8Paper.html#12559" class="Function">freeCancelTeaMachine</a> <a id="12580" class="Symbol">:</a> <a id="12582" href="GUI.GUIFeaturesPart8Paper.html#5071" class="Function">FeatureMachineNaive</a>
                       <a id="12625" class="Symbol">(((</a><a id="12628" href="Agda.Builtin.Unit.html#69" class="Record">Void</a> <a id="12633" href="Data.Product.html#1329" class="Function Operator">×</a> <a id="12635" href="GUI.GUIFeatures.html#635" class="Datatype">FeatureTea</a><a id="12645" class="Symbol">)</a> <a id="12647" href="Data.Product.html#1329" class="Function Operator">×</a> <a id="12649" href="GUI.GUIFeatures.html#753" class="Datatype">FeatureCancel</a><a id="12662" class="Symbol">)</a> <a id="12664" href="Data.Product.html#1329" class="Function Operator">×</a> <a id="12666" href="GUI.GUIFeatures.html#692" class="Datatype">FeatureFree</a><a id="12677" class="Symbol">)</a>
                       <a id="12702" class="Symbol">(</a><a id="12703" href="GUI.GUIFeaturesPart8Paper.html#8076" class="Datatype">StatesBasicVM</a> <a id="12717" href="Data.Sum.Base.html#414" class="Datatype Operator">⊎</a> <a id="12719" class="Symbol">(</a><a id="12720" href="Data.Empty.html#243" class="Datatype">∅</a> <a id="12722" href="Data.Sum.Base.html#414" class="Datatype Operator">⊎</a> <a id="12724" href="Agda.Builtin.Unit.html#69" class="Record">Void</a><a id="12728" class="Symbol">)</a> <a id="12730" href="Data.Sum.Base.html#414" class="Datatype Operator">⊎</a> <a id="12732" href="Agda.Builtin.Unit.html#69" class="Record">Void</a><a id="12736" class="Symbol">)</a>
<a id="12738" href="GUI.GUIFeaturesPart8Paper.html#12559" class="Function">freeCancelTeaMachine</a> <a id="12759" class="Symbol">=</a> <a id="12761" href="GUI.GUIFeaturesPart8Paper.html#12360" class="Function">Free</a> <a id="12766" class="Symbol">(</a><a id="12767" href="GUI.GUIFeaturesPart8Paper.html#11335" class="Function">Cancel</a> <a id="12774" class="Symbol">(</a><a id="12775" href="GUI.GUIFeaturesPart8Paper.html#9820" class="Function">Tea</a> <a id="12779" href="GUI.GUIFeaturesPart8Paper.html#8160" class="Function">basicVM</a><a id="12786" class="Symbol">))</a>

<a id="compileWorkflowToProgram"></a><a id="12790" href="GUI.GUIFeaturesPart8Paper.html#12790" class="Function">compileWorkflowToProgram</a> <a id="12815" class="Symbol">:</a> <a id="12817" href="GUI.Vers1.BusinessProcess.html#472" class="Datatype">Workflow</a> <a id="12826" class="Symbol">→</a> <a id="12828" href="GUI.GUIFeaturesPart8Paper.html#1823" class="Function">ExecutableIOProgram</a>

<a id="main"></a><a id="12849" href="GUI.GUIFeaturesPart8Paper.html#12849" class="Function">main</a> <a id="12854" class="Symbol">:</a> <a id="12856" href="GUI.GUIFeaturesPart8Paper.html#1823" class="Function">ExecutableIOProgram</a>
<a id="12876" href="GUI.GUIFeaturesPart8Paper.html#12849" class="Function">main</a> <a id="12881" class="Symbol">=</a> <a id="12883" href="GUI.GUIFeaturesPart8Paper.html#12790" class="Function">compileWorkflowToProgram</a> <a id="12908" href="GUI.GUIFeaturesPart8Paper.html#1566" class="Function">workflowBloodTestER</a>

<a id="12929" href="GUI.GUIFeaturesPart8Paper.html#12790" class="Function">compileWorkflowToProgram</a> <a id="12954" href="GUI.GUIFeaturesPart8Paper.html#12954" class="Bound">w</a> <a id="12956" class="Symbol">=</a>
   <a id="12961" class="Keyword">do</a>
     <a id="12969" href="GUI.GUIFeaturesPart8Paper.html#12969" class="Bound">win</a> <a id="12973" href="NativeIO.html#331" class="Postulate Operator">←</a> <a id="12975" href="GUI.Vers1.RasterificFFI.html#2897" class="Postulate">createWindowFFI</a>
     <a id="12996" href="GUI.Vers1.GUICompilation.html#2725" class="Function">compile</a> <a id="13004" href="GUI.GUIFeaturesPart8Paper.html#12969" class="Bound">win</a> <a id="13008" href="GUI.GUIFeaturesPart8Paper.html#13035" class="Function">guiProgram</a>


   <a id="13024" class="Keyword">where</a>
     <a id="13035" href="GUI.GUIFeaturesPart8Paper.html#13035" class="Function">guiProgram</a> <a id="13046" class="Symbol">:</a> <a id="13048" href="GUI.Vers1.GUIDefinitions.html#3422" class="Function">GUI</a>
     <a id="13057" href="GUI.GUIFeaturesPart8Paper.html#13035" class="Function">guiProgram</a> <a id="13068" class="Symbol">=</a> <a id="13070" href="GUI.Vers1.BusinessProcess.html#985" class="Function">businessModel2GUI</a> <a id="13088" href="GUI.GUIFeaturesPart8Paper.html#12954" class="Bound">w</a>



<a id="13093" class="Comment">-- main1 : IO Unit</a>
<a id="13112" class="Comment">-- main1 = {!!} --compileSMachine (basicVM _)  (inj₁ pay)</a>


<a id="13172" class="Comment">--main : NativeIO Unit</a>
<a id="13195" class="Comment">--main = compileSMachine {!!} {!!} --(Free (Cancel (Tea basicVM)) (((_ , yesTea ) , yesCancel) , noFree))  (inj₁ pay)</a>
</pre></body></html>